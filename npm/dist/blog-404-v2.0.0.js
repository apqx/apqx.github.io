"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[389],{536:(e,t,n)=>{function r(e){e&&document.querySelector(".content-card.fade-in-animation").classList.add("fade-in-animation--start")}n.d(t,{S:()=>r})},7214:(e,t,n)=>{var r=n(6540),o=n(1926),i=n(961);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function l(e,t,n){return t=s(t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(e,u()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:String(t)}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=f(e=l(this,t,[].concat(i))),null,(r=y(r="progressLinear"))in n?Object.defineProperty(n,r,{value:null,enumerable:!0,configurable:!0,writable:!0}):n[r]=null,e}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,(a=[{key:"init",value:function(e){null!=e&&(null==this.progressLinear&&(this.progressLinear=new o.N(e),this.progressLinear.determinate=!1),this.showLoading(this.props.loading))}},{key:"componentDidMount",value:function(){var e=i.findDOMNode(this);this.init(e)}},{key:"componentDidUpdate",value:function(e,t,n){this.showLoading(this.props.loading)}},{key:"showLoading",value:function(e){e?this.progressLinear.open():this.progressLinear.close()}},{key:"render",value:function(){return r.createElement("div",{role:"progressbar",className:"mdc-linear-progress"},r.createElement("div",{className:"mdc-linear-progress__buffer"},r.createElement("div",{className:"mdc-linear-progress__buffer-bar"}),r.createElement("div",{className:"mdc-linear-progress__buffer-dots"})),r.createElement("div",{className:"mdc-linear-progress__bar mdc-linear-progress__primary-bar"},r.createElement("span",{className:"mdc-linear-progress__bar-inner"})),r.createElement("div",{className:"mdc-linear-progress__bar mdc-linear-progress__secondary-bar"},r.createElement("span",{className:"mdc-linear-progress__bar-inner"})))}}])&&c(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component),b=n(9295),h=n(9510),d=n(3223);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:String(t)}var j=function(){function e(t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(r=O(r="component"))in n?Object.defineProperty(n,r,{value:null,enumerable:!0,configurable:!0,writable:!0}):n[r]=null,this.component=t}var t,n;return t=e,(n=[{key:"findPage",value:function(e){var t,n=this;t=(0,d._o)()?window.location.origin:"https://apqx-host.oss-cn-hangzhou.aliyuncs.com/blog";var r=new Request(t+"/api/url-map.json",{method:"GET"}),o=Date.now();fetch(r,{cache:"no-cache"}).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong on api server!")})).then((function(t){var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.map);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.id===e){(0,h.$Z)("Find pid "+e+" => "+a.target.path);var c=a.target.path;return a.target.path.startsWith("http")||(c=window.location.origin+a.target.path),(0,h.$Z)("JumpUrl is "+c),void n.showJump(o,c,a.target.title)}}}catch(e){i.e(e)}finally{i.f()}n.showJump(o,window.location.origin+"/404.html","未找到目标页面"),(0,h.$Z)("Pid not exist, check url-map")})).catch((function(e){(0,h.yA)(e),n.showJump(o,window.location.origin+"/404.html","未找到映射表")}))}},{key:"showJump",value:function(e,t,n){var r=this;(0,d.KJ)(e,(function(){r.refreshHint(n,t)}),800)}},{key:"refreshHint",value:function(e,t){this.component.setState({title:"正在跳转",content:e,onClickLink:function(){window.location.replace(t)}}),setTimeout((function(){window.location.replace(t)}),500)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function k(e,t,n){return t=C(t),function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(e,E()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function x(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:String(t)}var L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=P(n=k(this,t,[e])),null,(o=x(o="presenter"))in r?Object.defineProperty(r,o,{value:null,enumerable:!0,configurable:!0,writable:!0}):r[o]=null,n.presenter=new j(P(n)),n.state={title:"查询映射",content:n.props.pid,onClickLink:null},n}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){T(C(t.prototype),"componentDidMount",this).call(this),this.presenter.findPage(this.props.pid)}},{key:"dialogContent",value:function(){return r.createElement("div",{className:"center"},r.createElement("picture",null,r.createElement("source",{srcSet:"https://apqx-host.oss-cn-hangzhou.aliyuncs.com/blog/emojis/noto-animated-emoji/peacock/512.webp",type:"image/webp"}),r.createElement("img",{width:"164px",height:"164px",className:"inline-for-center",alt:"",src:"https://apqx-host.oss-cn-hangzhou.aliyuncs.com/blog/emojis/noto-animated-emoji/peacock/512.gif"})),r.createElement("p",{id:"short-link-jump-dialog_title"},this.state.title),r.createElement("p",{id:"short-link-jump-dialog_link",className:"center"},r.createElement("a",{className:"clickable-empty-link",onClick:this.state.onClickLink},this.state.content)),r.createElement(m,{loading:!0}))}}])&&_(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(b.bt),R=n(536);(0,d.al)((function(){(0,R.S)(!1)})),(0,d.OG)((function(){!function(){var e=null,t=window.location.pathname;(0,h.$Z)("Url path = "+t);var n=t.match(RegExp("^/((op|og|rp|pt|ot)..|index-opera|opera|repost|poetry|share|print|kfc)$"));if((0,h.$Z)("Url matches = "+n),null!=n&&n.length>0&&(e=n[1]),null!=e){var o;o=e,(0,b.ui)(r.createElement(L,{pid:o,fixedWidth:!1,btnText:null,OnClickBtn:null,closeOnClickOutside:!1}),b.TG)}else{var i=document.querySelector(".content-card");null!=i&&(i.style.display="block")}}()}))},4598:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[637],(()=>(t(7214),t(4598)))),e.O()}]);
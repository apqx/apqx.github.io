import{A as Re,s as qe,D as Oe,j as Ct,B as Ne,c as Wt}from"../blog-scaffold.js";var bt={},xt,Zt;function ke(){return Zt||(Zt=1,xt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),xt}var It={},vt={},te;function _t(){if(te)return vt;te=1;let h;const d=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return vt.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17},vt.getSymbolTotalCodewords=function(s){return d[s]},vt.getBCHDigit=function(p){let s=0;for(;p!==0;)s++,p>>>=1;return s},vt.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');h=s},vt.isKanjiModeEnabled=function(){return typeof h<"u"},vt.toSJIS=function(s){return h(s)},vt}var Pt={},ee;function Xt(){return ee||(ee=1,(function(h){h.L={bit:1},h.M={bit:0},h.Q={bit:3},h.H={bit:2};function d(p){if(typeof p!="string")throw new Error("Param is not a string");switch(p.toLowerCase()){case"l":case"low":return h.L;case"m":case"medium":return h.M;case"q":case"quartile":return h.Q;case"h":case"high":return h.H;default:throw new Error("Unknown EC Level: "+p)}}h.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},h.from=function(s,i){if(h.isValid(s))return s;try{return d(s)}catch{return i}}})(Pt)),Pt}var Dt,ne;function Le(){if(ne)return Dt;ne=1;function h(){this.buffer=[],this.length=0}return h.prototype={get:function(d){const p=Math.floor(d/8);return(this.buffer[p]>>>7-d%8&1)===1},put:function(d,p){for(let s=0;s<p;s++)this.putBit((d>>>p-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(d){const p=Math.floor(this.length/8);this.buffer.length<=p&&this.buffer.push(0),d&&(this.buffer[p]|=128>>>this.length%8),this.length++}},Dt=h,Dt}var Rt,re;function Te(){if(re)return Rt;re=1;function h(d){if(!d||d<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=d,this.data=new Uint8Array(d*d),this.reservedBit=new Uint8Array(d*d)}return h.prototype.set=function(d,p,s,i){const a=d*this.size+p;this.data[a]=s,i&&(this.reservedBit[a]=!0)},h.prototype.get=function(d,p){return this.data[d*this.size+p]},h.prototype.xor=function(d,p,s){this.data[d*this.size+p]^=s},h.prototype.isReserved=function(d,p){return this.reservedBit[d*this.size+p]},Rt=h,Rt}var qt={},ie;function ze(){return ie||(ie=1,(function(h){const d=_t().getSymbolSize;h.getRowColCoords=function(s){if(s===1)return[];const i=Math.floor(s/7)+2,a=d(s),g=a===145?26:Math.ceil((a-13)/(2*i-2))*2,m=[a-7];for(let v=1;v<i-1;v++)m[v]=m[v-1]-g;return m.push(6),m.reverse()},h.getPositions=function(s){const i=[],a=h.getRowColCoords(s),g=a.length;for(let m=0;m<g;m++)for(let v=0;v<g;v++)m===0&&v===0||m===0&&v===g-1||m===g-1&&v===0||i.push([a[m],a[v]]);return i}})(qt)),qt}var Ot={},oe;function je(){if(oe)return Ot;oe=1;const h=_t().getSymbolSize,d=7;return Ot.getPositions=function(s){const i=h(s);return[[0,0],[i-d,0],[0,i-d]]},Ot}var Nt={},se;function Fe(){return se||(se=1,(function(h){h.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const d={N1:3,N2:3,N3:40,N4:10};h.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},h.from=function(i){return h.isValid(i)?parseInt(i,10):void 0},h.getPenaltyN1=function(i){const a=i.size;let g=0,m=0,v=0,I=null,q=null;for(let L=0;L<a;L++){m=v=0,I=q=null;for(let k=0;k<a;k++){let E=i.get(L,k);E===I?m++:(m>=5&&(g+=d.N1+(m-5)),I=E,m=1),E=i.get(k,L),E===q?v++:(v>=5&&(g+=d.N1+(v-5)),q=E,v=1)}m>=5&&(g+=d.N1+(m-5)),v>=5&&(g+=d.N1+(v-5))}return g},h.getPenaltyN2=function(i){const a=i.size;let g=0;for(let m=0;m<a-1;m++)for(let v=0;v<a-1;v++){const I=i.get(m,v)+i.get(m,v+1)+i.get(m+1,v)+i.get(m+1,v+1);(I===4||I===0)&&g++}return g*d.N2},h.getPenaltyN3=function(i){const a=i.size;let g=0,m=0,v=0;for(let I=0;I<a;I++){m=v=0;for(let q=0;q<a;q++)m=m<<1&2047|i.get(I,q),q>=10&&(m===1488||m===93)&&g++,v=v<<1&2047|i.get(q,I),q>=10&&(v===1488||v===93)&&g++}return g*d.N3},h.getPenaltyN4=function(i){let a=0;const g=i.data.length;for(let v=0;v<g;v++)a+=i.data[v];return Math.abs(Math.ceil(a*100/g/5)-10)*d.N4};function p(s,i,a){switch(s){case h.Patterns.PATTERN000:return(i+a)%2===0;case h.Patterns.PATTERN001:return i%2===0;case h.Patterns.PATTERN010:return a%3===0;case h.Patterns.PATTERN011:return(i+a)%3===0;case h.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case h.Patterns.PATTERN101:return i*a%2+i*a%3===0;case h.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case h.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}h.applyMask=function(i,a){const g=a.size;for(let m=0;m<g;m++)for(let v=0;v<g;v++)a.isReserved(v,m)||a.xor(v,m,p(i,v,m))},h.getBestMask=function(i,a){const g=Object.keys(h.Patterns).length;let m=0,v=1/0;for(let I=0;I<g;I++){a(I),h.applyMask(I,i);const q=h.getPenaltyN1(i)+h.getPenaltyN2(i)+h.getPenaltyN3(i)+h.getPenaltyN4(i);h.applyMask(I,i),q<v&&(v=q,m=I)}return m}})(Nt)),Nt}var Bt={},ae;function xe(){if(ae)return Bt;ae=1;const h=Xt(),d=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],p=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Bt.getBlocksCount=function(i,a){switch(a){case h.L:return d[(i-1)*4+0];case h.M:return d[(i-1)*4+1];case h.Q:return d[(i-1)*4+2];case h.H:return d[(i-1)*4+3];default:return}},Bt.getTotalCodewordsCount=function(i,a){switch(a){case h.L:return p[(i-1)*4+0];case h.M:return p[(i-1)*4+1];case h.Q:return p[(i-1)*4+2];case h.H:return p[(i-1)*4+3];default:return}},Bt}var kt={},At={},ue;function Ue(){if(ue)return At;ue=1;const h=new Uint8Array(512),d=new Uint8Array(256);return(function(){let s=1;for(let i=0;i<255;i++)h[i]=s,d[s]=i,s<<=1,s&256&&(s^=285);for(let i=255;i<512;i++)h[i]=h[i-255]})(),At.log=function(s){if(s<1)throw new Error("log("+s+")");return d[s]},At.exp=function(s){return h[s]},At.mul=function(s,i){return s===0||i===0?0:h[d[s]+d[i]]},At}var ce;function $e(){return ce||(ce=1,(function(h){const d=Ue();h.mul=function(s,i){const a=new Uint8Array(s.length+i.length-1);for(let g=0;g<s.length;g++)for(let m=0;m<i.length;m++)a[g+m]^=d.mul(s[g],i[m]);return a},h.mod=function(s,i){let a=new Uint8Array(s);for(;a.length-i.length>=0;){const g=a[0];for(let v=0;v<i.length;v++)a[v]^=d.mul(i[v],g);let m=0;for(;m<a.length&&a[m]===0;)m++;a=a.slice(m)}return a},h.generateECPolynomial=function(s){let i=new Uint8Array([1]);for(let a=0;a<s;a++)i=h.mul(i,new Uint8Array([1,d.exp(a)]));return i}})(kt)),kt}var Lt,he;function He(){if(he)return Lt;he=1;const h=$e();function d(p){this.genPoly=void 0,this.degree=p,this.degree&&this.initialize(this.degree)}return d.prototype.initialize=function(s){this.degree=s,this.genPoly=h.generateECPolynomial(this.degree)},d.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(s.length+this.degree);i.set(s);const a=h.mod(i,this.genPoly),g=this.degree-a.length;if(g>0){const m=new Uint8Array(this.degree);return m.set(a,g),m}return a},Lt=d,Lt}var Tt={},zt={},jt={},de;function Ie(){return de||(de=1,jt.isValid=function(d){return!isNaN(d)&&d>=1&&d<=40}),jt}var mt={},le;function Pe(){if(le)return mt;le=1;const h="[0-9]+",d="[A-Z $%*+\\-./:]+";let p="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";p=p.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+p+`)(?:.|[\r
]))+`;mt.KANJI=new RegExp(p,"g"),mt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),mt.BYTE=new RegExp(s,"g"),mt.NUMERIC=new RegExp(h,"g"),mt.ALPHANUMERIC=new RegExp(d,"g");const i=new RegExp("^"+p+"$"),a=new RegExp("^"+h+"$"),g=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return mt.testKanji=function(v){return i.test(v)},mt.testNumeric=function(v){return a.test(v)},mt.testAlphanumeric=function(v){return g.test(v)},mt}var ge;function yt(){return ge||(ge=1,(function(h){const d=Ie(),p=Pe();h.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},h.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},h.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},h.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},h.MIXED={bit:-1},h.getCharCountIndicator=function(a,g){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!d.isValid(g))throw new Error("Invalid version: "+g);return g>=1&&g<10?a.ccBits[0]:g<27?a.ccBits[1]:a.ccBits[2]},h.getBestModeForData=function(a){return p.testNumeric(a)?h.NUMERIC:p.testAlphanumeric(a)?h.ALPHANUMERIC:p.testKanji(a)?h.KANJI:h.BYTE},h.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},h.isValid=function(a){return a&&a.bit&&a.ccBits};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return h.NUMERIC;case"alphanumeric":return h.ALPHANUMERIC;case"kanji":return h.KANJI;case"byte":return h.BYTE;default:throw new Error("Unknown mode: "+i)}}h.from=function(a,g){if(h.isValid(a))return a;try{return s(a)}catch{return g}}})(zt)),zt}var fe;function Ve(){return fe||(fe=1,(function(h){const d=_t(),p=xe(),s=Xt(),i=yt(),a=Ie(),g=7973,m=d.getBCHDigit(g);function v(k,E,$){for(let P=1;P<=40;P++)if(E<=h.getCapacity(P,$,k))return P}function I(k,E){return i.getCharCountIndicator(k,E)+4}function q(k,E){let $=0;return k.forEach(function(P){const nt=I(P.mode,E);$+=nt+P.getBitsLength()}),$}function L(k,E){for(let $=1;$<=40;$++)if(q(k,$)<=h.getCapacity($,E,i.MIXED))return $}h.from=function(E,$){return a.isValid(E)?parseInt(E,10):$},h.getCapacity=function(E,$,P){if(!a.isValid(E))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=i.BYTE);const nt=d.getSymbolTotalCodewords(E),H=p.getTotalCodewordsCount(E,$),K=(nt-H)*8;if(P===i.MIXED)return K;const N=K-I(P,E);switch(P){case i.NUMERIC:return Math.floor(N/10*3);case i.ALPHANUMERIC:return Math.floor(N/11*2);case i.KANJI:return Math.floor(N/13);case i.BYTE:default:return Math.floor(N/8)}},h.getBestVersionForData=function(E,$){let P;const nt=s.from($,s.M);if(Array.isArray(E)){if(E.length>1)return L(E,nt);if(E.length===0)return 1;P=E[0]}else P=E;return v(P.mode,P.getLength(),nt)},h.getEncodedBits=function(E){if(!a.isValid(E)||E<7)throw new Error("Invalid QR Code version");let $=E<<12;for(;d.getBCHDigit($)-m>=0;)$^=g<<d.getBCHDigit($)-m;return E<<12|$}})(Tt)),Tt}var Ft={},we;function Ke(){if(we)return Ft;we=1;const h=_t(),d=1335,p=21522,s=h.getBCHDigit(d);return Ft.getEncodedBits=function(a,g){const m=a.bit<<3|g;let v=m<<10;for(;h.getBCHDigit(v)-s>=0;)v^=d<<h.getBCHDigit(v)-s;return(m<<10|v)^p},Ft}var Ut={},$t,pe;function Qe(){if(pe)return $t;pe=1;const h=yt();function d(p){this.mode=h.NUMERIC,this.data=p.toString()}return d.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(s){let i,a,g;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),g=parseInt(a,10),s.put(g,10);const m=this.data.length-i;m>0&&(a=this.data.substr(i),g=parseInt(a,10),s.put(g,m*3+1))},$t=d,$t}var Ht,me;function Ye(){if(me)return Ht;me=1;const h=yt(),d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function p(s){this.mode=h.ALPHANUMERIC,this.data=s}return p.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let g=d.indexOf(this.data[a])*45;g+=d.indexOf(this.data[a+1]),i.put(g,11)}this.data.length%2&&i.put(d.indexOf(this.data[a]),6)},Ht=p,Ht}var Vt,ve;function Je(){if(ve)return Vt;ve=1;const h=yt();function d(p){this.mode=h.BYTE,typeof p=="string"?this.data=new TextEncoder().encode(p):this.data=new Uint8Array(p)}return d.getBitsLength=function(s){return s*8},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(p){for(let s=0,i=this.data.length;s<i;s++)p.put(this.data[s],8)},Vt=d,Vt}var Kt,_e;function Ge(){if(_e)return Kt;_e=1;const h=yt(),d=_t();function p(s){this.mode=h.KANJI,this.data=s}return p.getBitsLength=function(i){return i*13},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(s){let i;for(i=0;i<this.data.length;i++){let a=d.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),s.put(a,13)}},Kt=p,Kt}var Qt={exports:{}},ye;function Xe(){return ye||(ye=1,(function(h){var d={single_source_shortest_paths:function(p,s,i){var a={},g={};g[s]=0;var m=d.PriorityQueue.make();m.push(s,0);for(var v,I,q,L,k,E,$,P,nt;!m.empty();){v=m.pop(),I=v.value,L=v.cost,k=p[I]||{};for(q in k)k.hasOwnProperty(q)&&(E=k[q],$=L+E,P=g[q],nt=typeof g[q]>"u",(nt||P>$)&&(g[q]=$,m.push(q,$),a[q]=I))}if(typeof i<"u"&&typeof g[i]>"u"){var H=["Could not find a path from ",s," to ",i,"."].join("");throw new Error(H)}return a},extract_shortest_path_from_predecessor_list:function(p,s){for(var i=[],a=s;a;)i.push(a),p[a],a=p[a];return i.reverse(),i},find_path:function(p,s,i){var a=d.single_source_shortest_paths(p,s,i);return d.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(p){var s=d.PriorityQueue,i={},a;p=p||{};for(a in s)s.hasOwnProperty(a)&&(i[a]=s[a]);return i.queue=[],i.sorter=p.sorter||s.default_sorter,i},default_sorter:function(p,s){return p.cost-s.cost},push:function(p,s){var i={value:p,cost:s};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};h.exports=d})(Qt)),Qt.exports}var be;function We(){return be||(be=1,(function(h){const d=yt(),p=Qe(),s=Ye(),i=Je(),a=Ge(),g=Pe(),m=_t(),v=Xe();function I(H){return unescape(encodeURIComponent(H)).length}function q(H,K,N){const F=[];let ut;for(;(ut=H.exec(N))!==null;)F.push({data:ut[0],index:ut.index,mode:K,length:ut[0].length});return F}function L(H){const K=q(g.NUMERIC,d.NUMERIC,H),N=q(g.ALPHANUMERIC,d.ALPHANUMERIC,H);let F,ut;return m.isKanjiModeEnabled()?(F=q(g.BYTE,d.BYTE,H),ut=q(g.KANJI,d.KANJI,H)):(F=q(g.BYTE_KANJI,d.BYTE,H),ut=[]),K.concat(N,F,ut).sort(function(Q,V){return Q.index-V.index}).map(function(Q){return{data:Q.data,mode:Q.mode,length:Q.length}})}function k(H,K){switch(K){case d.NUMERIC:return p.getBitsLength(H);case d.ALPHANUMERIC:return s.getBitsLength(H);case d.KANJI:return a.getBitsLength(H);case d.BYTE:return i.getBitsLength(H)}}function E(H){return H.reduce(function(K,N){const F=K.length-1>=0?K[K.length-1]:null;return F&&F.mode===N.mode?(K[K.length-1].data+=N.data,K):(K.push(N),K)},[])}function $(H){const K=[];for(let N=0;N<H.length;N++){const F=H[N];switch(F.mode){case d.NUMERIC:K.push([F,{data:F.data,mode:d.ALPHANUMERIC,length:F.length},{data:F.data,mode:d.BYTE,length:F.length}]);break;case d.ALPHANUMERIC:K.push([F,{data:F.data,mode:d.BYTE,length:F.length}]);break;case d.KANJI:K.push([F,{data:F.data,mode:d.BYTE,length:I(F.data)}]);break;case d.BYTE:K.push([{data:F.data,mode:d.BYTE,length:I(F.data)}])}}return K}function P(H,K){const N={},F={start:{}};let ut=["start"];for(let O=0;O<H.length;O++){const Q=H[O],V=[];for(let D=0;D<Q.length;D++){const J=Q[D],U=""+O+D;V.push(U),N[U]={node:J,lastCount:0},F[U]={};for(let Y=0;Y<ut.length;Y++){const j=ut[Y];N[j]&&N[j].node.mode===J.mode?(F[j][U]=k(N[j].lastCount+J.length,J.mode)-k(N[j].lastCount,J.mode),N[j].lastCount+=J.length):(N[j]&&(N[j].lastCount=J.length),F[j][U]=k(J.length,J.mode)+4+d.getCharCountIndicator(J.mode,K))}}ut=V}for(let O=0;O<ut.length;O++)F[ut[O]].end=0;return{map:F,table:N}}function nt(H,K){let N;const F=d.getBestModeForData(H);if(N=d.from(K,F),N!==d.BYTE&&N.bit<F.bit)throw new Error('"'+H+'" cannot be encoded with mode '+d.toString(N)+`.
 Suggested mode is: `+d.toString(F));switch(N===d.KANJI&&!m.isKanjiModeEnabled()&&(N=d.BYTE),N){case d.NUMERIC:return new p(H);case d.ALPHANUMERIC:return new s(H);case d.KANJI:return new a(H);case d.BYTE:return new i(H)}}h.fromArray=function(K){return K.reduce(function(N,F){return typeof F=="string"?N.push(nt(F,null)):F.data&&N.push(nt(F.data,F.mode)),N},[])},h.fromString=function(K,N){const F=L(K,m.isKanjiModeEnabled()),ut=$(F),O=P(ut,N),Q=v.find_path(O.map,"start","end"),V=[];for(let D=1;D<Q.length-1;D++)V.push(O.table[Q[D]].node);return h.fromArray(E(V))},h.rawSplit=function(K){return h.fromArray(L(K,m.isKanjiModeEnabled()))}})(Ut)),Ut}var Ce;function Ze(){if(Ce)return It;Ce=1;const h=_t(),d=Xt(),p=Le(),s=Te(),i=ze(),a=je(),g=Fe(),m=xe(),v=He(),I=Ve(),q=Ke(),L=yt(),k=We();function E(O,Q){const V=O.size,D=a.getPositions(Q);for(let J=0;J<D.length;J++){const U=D[J][0],Y=D[J][1];for(let j=-1;j<=7;j++)if(!(U+j<=-1||V<=U+j))for(let f=-1;f<=7;f++)Y+f<=-1||V<=Y+f||(j>=0&&j<=6&&(f===0||f===6)||f>=0&&f<=6&&(j===0||j===6)||j>=2&&j<=4&&f>=2&&f<=4?O.set(U+j,Y+f,!0,!0):O.set(U+j,Y+f,!1,!0))}}function $(O){const Q=O.size;for(let V=8;V<Q-8;V++){const D=V%2===0;O.set(V,6,D,!0),O.set(6,V,D,!0)}}function P(O,Q){const V=i.getPositions(Q);for(let D=0;D<V.length;D++){const J=V[D][0],U=V[D][1];for(let Y=-2;Y<=2;Y++)for(let j=-2;j<=2;j++)Y===-2||Y===2||j===-2||j===2||Y===0&&j===0?O.set(J+Y,U+j,!0,!0):O.set(J+Y,U+j,!1,!0)}}function nt(O,Q){const V=O.size,D=I.getEncodedBits(Q);let J,U,Y;for(let j=0;j<18;j++)J=Math.floor(j/3),U=j%3+V-8-3,Y=(D>>j&1)===1,O.set(J,U,Y,!0),O.set(U,J,Y,!0)}function H(O,Q,V){const D=O.size,J=q.getEncodedBits(Q,V);let U,Y;for(U=0;U<15;U++)Y=(J>>U&1)===1,U<6?O.set(U,8,Y,!0):U<8?O.set(U+1,8,Y,!0):O.set(D-15+U,8,Y,!0),U<8?O.set(8,D-U-1,Y,!0):U<9?O.set(8,15-U-1+1,Y,!0):O.set(8,15-U-1,Y,!0);O.set(D-8,8,1,!0)}function K(O,Q){const V=O.size;let D=-1,J=V-1,U=7,Y=0;for(let j=V-1;j>0;j-=2)for(j===6&&j--;;){for(let f=0;f<2;f++)if(!O.isReserved(J,j-f)){let b=!1;Y<Q.length&&(b=(Q[Y]>>>U&1)===1),O.set(J,j-f,b),U--,U===-1&&(Y++,U=7)}if(J+=D,J<0||V<=J){J-=D,D=-D;break}}}function N(O,Q,V){const D=new p;V.forEach(function(f){D.put(f.mode.bit,4),D.put(f.getLength(),L.getCharCountIndicator(f.mode,O)),f.write(D)});const J=h.getSymbolTotalCodewords(O),U=m.getTotalCodewordsCount(O,Q),Y=(J-U)*8;for(D.getLengthInBits()+4<=Y&&D.put(0,4);D.getLengthInBits()%8!==0;)D.putBit(0);const j=(Y-D.getLengthInBits())/8;for(let f=0;f<j;f++)D.put(f%2?17:236,8);return F(D,O,Q)}function F(O,Q,V){const D=h.getSymbolTotalCodewords(Q),J=m.getTotalCodewordsCount(Q,V),U=D-J,Y=m.getBlocksCount(Q,V),j=D%Y,f=Y-j,b=Math.floor(D/Y),w=Math.floor(U/Y),e=w+1,t=b-w,r=new v(t);let o=0;const n=new Array(Y),l=new Array(Y);let A=0;const S=new Uint8Array(O.buffer);for(let T=0;T<Y;T++){const W=T<f?w:e;n[T]=S.slice(o,o+W),l[T]=r.encode(n[T]),o+=W,A=Math.max(A,W)}const R=new Uint8Array(D);let B=0,x,M;for(x=0;x<A;x++)for(M=0;M<Y;M++)x<n[M].length&&(R[B++]=n[M][x]);for(x=0;x<t;x++)for(M=0;M<Y;M++)R[B++]=l[M][x];return R}function ut(O,Q,V,D){let J;if(Array.isArray(O))J=k.fromArray(O);else if(typeof O=="string"){let b=Q;if(!b){const w=k.rawSplit(O);b=I.getBestVersionForData(w,V)}J=k.fromString(O,b||40)}else throw new Error("Invalid data");const U=I.getBestVersionForData(J,V);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Q)Q=U;else if(Q<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const Y=N(Q,V,J),j=h.getSymbolSize(Q),f=new s(j);return E(f,Q),$(f),P(f,Q),H(f,V,0),Q>=7&&nt(f,Q),K(f,Y),isNaN(D)&&(D=g.getBestMask(f,H.bind(null,f,V))),g.applyMask(D,f),H(f,V,D),{modules:f,version:Q,errorCorrectionLevel:V,maskPattern:D,segments:J}}return It.create=function(Q,V){if(typeof Q>"u"||Q==="")throw new Error("No input text");let D=d.M,J,U;return typeof V<"u"&&(D=d.from(V.errorCorrectionLevel,d.M),J=I.from(V.version),U=g.from(V.maskPattern),V.toSJISFunc&&h.setToSJISFunction(V.toSJISFunc)),ut(Q,J,D,U)},It}var Yt={},Jt={},Se;function De(){return Se||(Se=1,(function(h){function d(p){if(typeof p=="number"&&(p=p.toString()),typeof p!="string")throw new Error("Color should be defined as hex string");let s=p.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+p);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(a){return[a,a]}))),s.length===6&&s.push("F","F");const i=parseInt(s.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+s.slice(0,6).join("")}}h.getOptions=function(s){s||(s={}),s.color||(s.color={});const i=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,a=s.width&&s.width>=21?s.width:void 0,g=s.scale||4;return{width:a,scale:a?4:g,margin:i,color:{dark:d(s.color.dark||"#000000ff"),light:d(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},h.getScale=function(s,i){return i.width&&i.width>=s+i.margin*2?i.width/(s+i.margin*2):i.scale},h.getImageWidth=function(s,i){const a=h.getScale(s,i);return Math.floor((s+i.margin*2)*a)},h.qrToImageData=function(s,i,a){const g=i.modules.size,m=i.modules.data,v=h.getScale(g,a),I=Math.floor((g+a.margin*2)*v),q=a.margin*v,L=[a.color.light,a.color.dark];for(let k=0;k<I;k++)for(let E=0;E<I;E++){let $=(k*I+E)*4,P=a.color.light;if(k>=q&&E>=q&&k<I-q&&E<I-q){const nt=Math.floor((k-q)/v),H=Math.floor((E-q)/v);P=L[m[nt*g+H]?1:0]}s[$++]=P.r,s[$++]=P.g,s[$++]=P.b,s[$]=P.a}}})(Jt)),Jt}var Ae;function tn(){return Ae||(Ae=1,(function(h){const d=De();function p(i,a,g){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=g,a.width=g,a.style.height=g+"px",a.style.width=g+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}h.render=function(a,g,m){let v=m,I=g;typeof v>"u"&&(!g||!g.getContext)&&(v=g,g=void 0),g||(I=s()),v=d.getOptions(v);const q=d.getImageWidth(a.modules.size,v),L=I.getContext("2d"),k=L.createImageData(q,q);return d.qrToImageData(k.data,a,v),p(L,I,q),L.putImageData(k,0,0),I},h.renderToDataURL=function(a,g,m){let v=m;typeof v>"u"&&(!g||!g.getContext)&&(v=g,g=void 0),v||(v={});const I=h.render(a,g,v),q=v.type||"image/png",L=v.rendererOpts||{};return I.toDataURL(q,L.quality)}})(Yt)),Yt}var Gt={},Me;function en(){if(Me)return Gt;Me=1;const h=De();function d(i,a){const g=i.a/255,m=a+'="'+i.hex+'"';return g<1?m+" "+a+'-opacity="'+g.toFixed(2).slice(1)+'"':m}function p(i,a,g){let m=i+a;return typeof g<"u"&&(m+=" "+g),m}function s(i,a,g){let m="",v=0,I=!1,q=0;for(let L=0;L<i.length;L++){const k=Math.floor(L%a),E=Math.floor(L/a);!k&&!I&&(I=!0),i[L]?(q++,L>0&&k>0&&i[L-1]||(m+=I?p("M",k+g,.5+E+g):p("m",v,0),v=0,I=!1),k+1<a&&i[L+1]||(m+=p("h",q),q=0)):v++}return m}return Gt.render=function(a,g,m){const v=h.getOptions(g),I=a.modules.size,q=a.modules.data,L=I+v.margin*2,k=v.color.light.a?"<path "+d(v.color.light,"fill")+' d="M0 0h'+L+"v"+L+'H0z"/>':"",E="<path "+d(v.color.dark,"stroke")+' d="'+s(q,I,v.margin)+'"/>',$='viewBox="0 0 '+L+" "+L+'"',nt='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+$+' shape-rendering="crispEdges">'+k+E+`</svg>
`;return typeof m=="function"&&m(null,nt),nt},Gt}var Be;function nn(){if(Be)return bt;Be=1;const h=ke(),d=Ze(),p=tn(),s=en();function i(a,g,m,v,I){const q=[].slice.call(arguments,1),L=q.length,k=typeof q[L-1]=="function";if(!k&&!h())throw new Error("Callback required as last argument");if(k){if(L<2)throw new Error("Too few arguments provided");L===2?(I=m,m=g,g=v=void 0):L===3&&(g.getContext&&typeof I>"u"?(I=v,v=void 0):(I=v,v=m,m=g,g=void 0))}else{if(L<1)throw new Error("Too few arguments provided");return L===1?(m=g,g=v=void 0):L===2&&!g.getContext&&(v=m,m=g,g=void 0),new Promise(function(E,$){try{const P=d.create(m,v);E(a(P,g,v))}catch(P){$(P)}})}try{const E=d.create(m,v);I(null,a(E,g,v))}catch(E){I(E)}}return bt.create=d.create,bt.toCanvas=i.bind(null,p.render),bt.toDataURL=i.bind(null,p.renderToDataURL),bt.toString=i.bind(null,function(a,g,m){return s.render(a,m)}),bt}nn();var Et={exports:{}},rn=Et.exports,Ee;function on(){return Ee||(Ee=1,(function(h,d){(function(p,s){h.exports=s()})(rn,(()=>(()=>{var p={873:(g,m)=>{var v,I,q=(function(){var L=function(f,b){var w=f,e=H[b],t=null,r=0,o=null,n=[],l={},A=function(u,_){t=(function(c){for(var y=new Array(c),C=0;C<c;C+=1){y[C]=new Array(c);for(var z=0;z<c;z+=1)y[C][z]=null}return y})(r=4*w+17),S(0,0),S(r-7,0),S(0,r-7),B(),R(),M(u,_),w>=7&&x(u),o==null&&(o=W(w,e,n)),T(o,_)},S=function(u,_){for(var c=-1;c<=7;c+=1)if(!(u+c<=-1||r<=u+c))for(var y=-1;y<=7;y+=1)_+y<=-1||r<=_+y||(t[u+c][_+y]=0<=c&&c<=6&&(y==0||y==6)||0<=y&&y<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=y&&y<=4)},R=function(){for(var u=8;u<r-8;u+=1)t[u][6]==null&&(t[u][6]=u%2==0);for(var _=8;_<r-8;_+=1)t[6][_]==null&&(t[6][_]=_%2==0)},B=function(){for(var u=K.getPatternPosition(w),_=0;_<u.length;_+=1)for(var c=0;c<u.length;c+=1){var y=u[_],C=u[c];if(t[y][C]==null)for(var z=-2;z<=2;z+=1)for(var Z=-2;Z<=2;Z+=1)t[y+z][C+Z]=z==-2||z==2||Z==-2||Z==2||z==0&&Z==0}},x=function(u){for(var _=K.getBCHTypeNumber(w),c=0;c<18;c+=1){var y=!u&&(_>>c&1)==1;t[Math.floor(c/3)][c%3+r-8-3]=y}for(c=0;c<18;c+=1)y=!u&&(_>>c&1)==1,t[c%3+r-8-3][Math.floor(c/3)]=y},M=function(u,_){for(var c=e<<3|_,y=K.getBCHTypeInfo(c),C=0;C<15;C+=1){var z=!u&&(y>>C&1)==1;C<6?t[C][8]=z:C<8?t[C+1][8]=z:t[r-15+C][8]=z}for(C=0;C<15;C+=1)z=!u&&(y>>C&1)==1,C<8?t[8][r-C-1]=z:C<9?t[8][15-C-1+1]=z:t[8][15-C-1]=z;t[r-8][8]=!u},T=function(u,_){for(var c=-1,y=r-1,C=7,z=0,Z=K.getMaskFunction(_),et=r-1;et>0;et-=2)for(et==6&&(et-=1);;){for(var rt=0;rt<2;rt+=1)if(t[y][et-rt]==null){var it=!1;z<u.length&&(it=(u[z]>>>C&1)==1),Z(y,et-rt)&&(it=!it),t[y][et-rt]=it,(C-=1)==-1&&(z+=1,C=7)}if((y+=c)<0||r<=y){y-=c,c=-c;break}}},W=function(u,_,c){for(var y=ut.getRSBlocks(u,_),C=O(),z=0;z<c.length;z+=1){var Z=c[z];C.put(Z.getMode(),4),C.put(Z.getLength(),K.getLengthInBits(Z.getMode(),u)),Z.write(C)}var et=0;for(z=0;z<y.length;z+=1)et+=y[z].dataCount;if(C.getLengthInBits()>8*et)throw"code length overflow. ("+C.getLengthInBits()+">"+8*et+")";for(C.getLengthInBits()+4<=8*et&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(!1);for(;!(C.getLengthInBits()>=8*et||(C.put(236,8),C.getLengthInBits()>=8*et));)C.put(17,8);return(function(rt,it){for(var st=0,lt=0,ht=0,at=new Array(it.length),ot=new Array(it.length),G=0;G<it.length;G+=1){var ct=it[G].dataCount,dt=it[G].totalCount-ct;lt=Math.max(lt,ct),ht=Math.max(ht,dt),at[G]=new Array(ct);for(var tt=0;tt<at[G].length;tt+=1)at[G][tt]=255&rt.getBuffer()[tt+st];st+=ct;var wt=K.getErrorCorrectPolynomial(dt),ft=F(at[G],wt.getLength()-1).mod(wt);for(ot[G]=new Array(wt.getLength()-1),tt=0;tt<ot[G].length;tt+=1){var gt=tt+ft.getLength()-ot[G].length;ot[G][tt]=gt>=0?ft.getAt(gt):0}}var Mt=0;for(tt=0;tt<it.length;tt+=1)Mt+=it[tt].totalCount;var St=new Array(Mt),pt=0;for(tt=0;tt<lt;tt+=1)for(G=0;G<it.length;G+=1)tt<at[G].length&&(St[pt]=at[G][tt],pt+=1);for(tt=0;tt<ht;tt+=1)for(G=0;G<it.length;G+=1)tt<ot[G].length&&(St[pt]=ot[G][tt],pt+=1);return St})(C,y)};l.addData=function(u,_){var c=null;switch(_=_||"Byte"){case"Numeric":c=Q(u);break;case"Alphanumeric":c=V(u);break;case"Byte":c=D(u);break;case"Kanji":c=J(u);break;default:throw"mode:"+_}n.push(c),o=null},l.isDark=function(u,_){if(u<0||r<=u||_<0||r<=_)throw u+","+_;return t[u][_]},l.getModuleCount=function(){return r},l.make=function(){if(w<1){for(var u=1;u<40;u++){for(var _=ut.getRSBlocks(u,e),c=O(),y=0;y<n.length;y++){var C=n[y];c.put(C.getMode(),4),c.put(C.getLength(),K.getLengthInBits(C.getMode(),u)),C.write(c)}var z=0;for(y=0;y<_.length;y++)z+=_[y].dataCount;if(c.getLengthInBits()<=8*z)break}w=u}A(!1,(function(){for(var Z=0,et=0,rt=0;rt<8;rt+=1){A(!0,rt);var it=K.getLostPoint(l);(rt==0||Z>it)&&(Z=it,et=rt)}return et})())},l.createTableTag=function(u,_){u=u||2;var c="";c+='<table style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: "+(_=_===void 0?4*u:_)+"px;",c+='">',c+="<tbody>";for(var y=0;y<l.getModuleCount();y+=1){c+="<tr>";for(var C=0;C<l.getModuleCount();C+=1)c+='<td style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: 0px;",c+=" width: "+u+"px;",c+=" height: "+u+"px;",c+=" background-color: ",c+=l.isDark(y,C)?"#000000":"#ffffff",c+=";",c+='"/>';c+="</tr>"}return(c+="</tbody>")+"</table>"},l.createSvgTag=function(u,_,c,y){var C={};typeof arguments[0]=="object"&&(u=(C=arguments[0]).cellSize,_=C.margin,c=C.alt,y=C.title),u=u||2,_=_===void 0?4*u:_,(c=typeof c=="string"?{text:c}:c||{}).text=c.text||null,c.id=c.text?c.id||"qrcode-description":null,(y=typeof y=="string"?{text:y}:y||{}).text=y.text||null,y.id=y.text?y.id||"qrcode-title":null;var z,Z,et,rt,it=l.getModuleCount()*u+2*_,st="";for(rt="l"+u+",0 0,"+u+" -"+u+",0 0,-"+u+"z ",st+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',st+=C.scalable?"":' width="'+it+'px" height="'+it+'px"',st+=' viewBox="0 0 '+it+" "+it+'" ',st+=' preserveAspectRatio="xMinYMin meet"',st+=y.text||c.text?' role="img" aria-labelledby="'+X([y.id,c.id].join(" ").trim())+'"':"",st+=">",st+=y.text?'<title id="'+X(y.id)+'">'+X(y.text)+"</title>":"",st+=c.text?'<description id="'+X(c.id)+'">'+X(c.text)+"</description>":"",st+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',st+='<path d="',Z=0;Z<l.getModuleCount();Z+=1)for(et=Z*u+_,z=0;z<l.getModuleCount();z+=1)l.isDark(Z,z)&&(st+="M"+(z*u+_)+","+et+rt);return(st+='" stroke="transparent" fill="black"/>')+"</svg>"},l.createDataURL=function(u,_){u=u||2,_=_===void 0?4*u:_;var c=l.getModuleCount()*u+2*_,y=_,C=c-_;return j(c,c,(function(z,Z){if(y<=z&&z<C&&y<=Z&&Z<C){var et=Math.floor((z-y)/u),rt=Math.floor((Z-y)/u);return l.isDark(rt,et)?0:1}return 1}))},l.createImgTag=function(u,_,c){u=u||2,_=_===void 0?4*u:_;var y=l.getModuleCount()*u+2*_,C="";return C+="<img",C+=' src="',C+=l.createDataURL(u,_),C+='"',C+=' width="',C+=y,C+='"',C+=' height="',C+=y,C+='"',c&&(C+=' alt="',C+=X(c),C+='"'),C+"/>"};var X=function(u){for(var _="",c=0;c<u.length;c+=1){var y=u.charAt(c);switch(y){case"<":_+="&lt;";break;case">":_+="&gt;";break;case"&":_+="&amp;";break;case'"':_+="&quot;";break;default:_+=y}}return _};return l.createASCII=function(u,_){if((u=u||1)<2)return(function(at){at=at===void 0?2:at;var ot,G,ct,dt,tt,wt=1*l.getModuleCount()+2*at,ft=at,gt=wt-at,Mt={"██":"█","█ ":"▀"," █":"▄","  ":" "},St={"██":"▀","█ ":"▀"," █":" ","  ":" "},pt="";for(ot=0;ot<wt;ot+=2){for(ct=Math.floor((ot-ft)/1),dt=Math.floor((ot+1-ft)/1),G=0;G<wt;G+=1)tt="█",ft<=G&&G<gt&&ft<=ot&&ot<gt&&l.isDark(ct,Math.floor((G-ft)/1))&&(tt=" "),ft<=G&&G<gt&&ft<=ot+1&&ot+1<gt&&l.isDark(dt,Math.floor((G-ft)/1))?tt+=" ":tt+="█",pt+=at<1&&ot+1>=gt?St[tt]:Mt[tt];pt+=`
`}return wt%2&&at>0?pt.substring(0,pt.length-wt-1)+Array(wt+1).join("▀"):pt.substring(0,pt.length-1)})(_);u-=1,_=_===void 0?2*u:_;var c,y,C,z,Z=l.getModuleCount()*u+2*_,et=_,rt=Z-_,it=Array(u+1).join("██"),st=Array(u+1).join("  "),lt="",ht="";for(c=0;c<Z;c+=1){for(C=Math.floor((c-et)/u),ht="",y=0;y<Z;y+=1)z=1,et<=y&&y<rt&&et<=c&&c<rt&&l.isDark(C,Math.floor((y-et)/u))&&(z=0),ht+=z?it:st;for(C=0;C<u;C+=1)lt+=ht+`
`}return lt.substring(0,lt.length-1)},l.renderTo2dContext=function(u,_){_=_||2;for(var c=l.getModuleCount(),y=0;y<c;y++)for(var C=0;C<c;C++)u.fillStyle=l.isDark(y,C)?"black":"white",u.fillRect(y*_,C*_,_,_)},l};L.stringToBytes=(L.stringToBytesFuncs={default:function(f){for(var b=[],w=0;w<f.length;w+=1){var e=f.charCodeAt(w);b.push(255&e)}return b}}).default,L.createStringToBytes=function(f,b){var w=(function(){for(var t=Y(f),r=function(){var R=t.read();if(R==-1)throw"eof";return R},o=0,n={};;){var l=t.read();if(l==-1)break;var A=r(),S=r()<<8|r();n[String.fromCharCode(l<<8|A)]=S,o+=1}if(o!=b)throw o+" != "+b;return n})(),e=63;return function(t){for(var r=[],o=0;o<t.length;o+=1){var n=t.charCodeAt(o);if(n<128)r.push(n);else{var l=w[t.charAt(o)];typeof l=="number"?(255&l)==l?r.push(l):(r.push(l>>>8),r.push(255&l)):r.push(e)}}return r}};var k,E,$,P,nt,H={L:1,M:0,Q:3,H:2},K=(k=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],E=1335,$=7973,nt=function(f){for(var b=0;f!=0;)b+=1,f>>>=1;return b},(P={}).getBCHTypeInfo=function(f){for(var b=f<<10;nt(b)-nt(E)>=0;)b^=E<<nt(b)-nt(E);return 21522^(f<<10|b)},P.getBCHTypeNumber=function(f){for(var b=f<<12;nt(b)-nt($)>=0;)b^=$<<nt(b)-nt($);return f<<12|b},P.getPatternPosition=function(f){return k[f-1]},P.getMaskFunction=function(f){switch(f){case 0:return function(b,w){return(b+w)%2==0};case 1:return function(b,w){return b%2==0};case 2:return function(b,w){return w%3==0};case 3:return function(b,w){return(b+w)%3==0};case 4:return function(b,w){return(Math.floor(b/2)+Math.floor(w/3))%2==0};case 5:return function(b,w){return b*w%2+b*w%3==0};case 6:return function(b,w){return(b*w%2+b*w%3)%2==0};case 7:return function(b,w){return(b*w%3+(b+w)%2)%2==0};default:throw"bad maskPattern:"+f}},P.getErrorCorrectPolynomial=function(f){for(var b=F([1],0),w=0;w<f;w+=1)b=b.multiply(F([1,N.gexp(w)],0));return b},P.getLengthInBits=function(f,b){if(1<=b&&b<10)switch(f){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+f}else if(b<27)switch(f){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+f}else{if(!(b<41))throw"type:"+b;switch(f){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+f}}},P.getLostPoint=function(f){for(var b=f.getModuleCount(),w=0,e=0;e<b;e+=1)for(var t=0;t<b;t+=1){for(var r=0,o=f.isDark(e,t),n=-1;n<=1;n+=1)if(!(e+n<0||b<=e+n))for(var l=-1;l<=1;l+=1)t+l<0||b<=t+l||n==0&&l==0||o==f.isDark(e+n,t+l)&&(r+=1);r>5&&(w+=3+r-5)}for(e=0;e<b-1;e+=1)for(t=0;t<b-1;t+=1){var A=0;f.isDark(e,t)&&(A+=1),f.isDark(e+1,t)&&(A+=1),f.isDark(e,t+1)&&(A+=1),f.isDark(e+1,t+1)&&(A+=1),A!=0&&A!=4||(w+=3)}for(e=0;e<b;e+=1)for(t=0;t<b-6;t+=1)f.isDark(e,t)&&!f.isDark(e,t+1)&&f.isDark(e,t+2)&&f.isDark(e,t+3)&&f.isDark(e,t+4)&&!f.isDark(e,t+5)&&f.isDark(e,t+6)&&(w+=40);for(t=0;t<b;t+=1)for(e=0;e<b-6;e+=1)f.isDark(e,t)&&!f.isDark(e+1,t)&&f.isDark(e+2,t)&&f.isDark(e+3,t)&&f.isDark(e+4,t)&&!f.isDark(e+5,t)&&f.isDark(e+6,t)&&(w+=40);var S=0;for(t=0;t<b;t+=1)for(e=0;e<b;e+=1)f.isDark(e,t)&&(S+=1);return w+Math.abs(100*S/b/b-50)/5*10},P),N=(function(){for(var f=new Array(256),b=new Array(256),w=0;w<8;w+=1)f[w]=1<<w;for(w=8;w<256;w+=1)f[w]=f[w-4]^f[w-5]^f[w-6]^f[w-8];for(w=0;w<255;w+=1)b[f[w]]=w;return{glog:function(e){if(e<1)throw"glog("+e+")";return b[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f[e]}}})();function F(f,b){if(f.length===void 0)throw f.length+"/"+b;var w=(function(){for(var t=0;t<f.length&&f[t]==0;)t+=1;for(var r=new Array(f.length-t+b),o=0;o<f.length-t;o+=1)r[o]=f[o+t];return r})(),e={getAt:function(t){return w[t]},getLength:function(){return w.length},multiply:function(t){for(var r=new Array(e.getLength()+t.getLength()-1),o=0;o<e.getLength();o+=1)for(var n=0;n<t.getLength();n+=1)r[o+n]^=N.gexp(N.glog(e.getAt(o))+N.glog(t.getAt(n)));return F(r,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var r=N.glog(e.getAt(0))-N.glog(t.getAt(0)),o=new Array(e.getLength()),n=0;n<e.getLength();n+=1)o[n]=e.getAt(n);for(n=0;n<t.getLength();n+=1)o[n]^=N.gexp(N.glog(t.getAt(n))+r);return F(o,0).mod(t)}};return e}var ut=(function(){var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b=function(e,t){var r={};return r.totalCount=e,r.dataCount=t,r},w={getRSBlocks:function(e,t){var r=(function(x,M){switch(M){case H.L:return f[4*(x-1)+0];case H.M:return f[4*(x-1)+1];case H.Q:return f[4*(x-1)+2];case H.H:return f[4*(x-1)+3];default:return}})(e,t);if(r===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var o=r.length/3,n=[],l=0;l<o;l+=1)for(var A=r[3*l+0],S=r[3*l+1],R=r[3*l+2],B=0;B<A;B+=1)n.push(b(S,R));return n}};return w})(),O=function(){var f=[],b=0,w={getBuffer:function(){return f},getAt:function(e){var t=Math.floor(e/8);return(f[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r+=1)w.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return b},putBit:function(e){var t=Math.floor(b/8);f.length<=t&&f.push(0),e&&(f[t]|=128>>>b%8),b+=1}};return w},Q=function(f){var b=f,w={getMode:function(){return 1},getLength:function(r){return b.length},write:function(r){for(var o=b,n=0;n+2<o.length;)r.put(e(o.substring(n,n+3)),10),n+=3;n<o.length&&(o.length-n==1?r.put(e(o.substring(n,n+1)),4):o.length-n==2&&r.put(e(o.substring(n,n+2)),7))}},e=function(r){for(var o=0,n=0;n<r.length;n+=1)o=10*o+t(r.charAt(n));return o},t=function(r){if("0"<=r&&r<="9")return r.charCodeAt(0)-48;throw"illegal char :"+r};return w},V=function(f){var b=f,w={getMode:function(){return 2},getLength:function(t){return b.length},write:function(t){for(var r=b,o=0;o+1<r.length;)t.put(45*e(r.charAt(o))+e(r.charAt(o+1)),11),o+=2;o<r.length&&t.put(e(r.charAt(o)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return w},D=function(f){var b=L.stringToBytes(f);return{getMode:function(){return 4},getLength:function(w){return b.length},write:function(w){for(var e=0;e<b.length;e+=1)w.put(b[e],8)}}},J=function(f){var b=L.stringToBytesFuncs.SJIS;if(!b)throw"sjis not supported.";(function(){var t=b("友");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var w=b(f),e={getMode:function(){return 8},getLength:function(t){return~~(w.length/2)},write:function(t){for(var r=w,o=0;o+1<r.length;){var n=(255&r[o])<<8|255&r[o+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(o+1)+"/"+n;n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13),o+=2}if(o<r.length)throw"illegal char at "+(o+1)}};return e},U=function(){var f=[],b={writeByte:function(w){f.push(255&w)},writeShort:function(w){b.writeByte(w),b.writeByte(w>>>8)},writeBytes:function(w,e,t){e=e||0,t=t||w.length;for(var r=0;r<t;r+=1)b.writeByte(w[r+e])},writeString:function(w){for(var e=0;e<w.length;e+=1)b.writeByte(w.charCodeAt(e))},toByteArray:function(){return f},toString:function(){var w="";w+="[";for(var e=0;e<f.length;e+=1)e>0&&(w+=","),w+=f[e];return w+"]"}};return b},Y=function(f){var b=f,w=0,e=0,t=0,r={read:function(){for(;t<8;){if(w>=b.length){if(t==0)return-1;throw"unexpected end of file./"+t}var n=b.charAt(w);if(w+=1,n=="=")return t=0,-1;n.match(/^\s$/)||(e=e<<6|o(n.charCodeAt(0)),t+=6)}var l=e>>>t-8&255;return t-=8,l}},o=function(n){if(65<=n&&n<=90)return n-65;if(97<=n&&n<=122)return n-97+26;if(48<=n&&n<=57)return n-48+52;if(n==43)return 62;if(n==47)return 63;throw"c:"+n};return r},j=function(f,b,w){for(var e=(function(S,R){var B=S,x=R,M=new Array(S*R),T={setPixel:function(u,_,c){M[_*B+u]=c},write:function(u){u.writeString("GIF87a"),u.writeShort(B),u.writeShort(x),u.writeByte(128),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(255),u.writeByte(255),u.writeByte(255),u.writeString(","),u.writeShort(0),u.writeShort(0),u.writeShort(B),u.writeShort(x),u.writeByte(0);var _=W(2);u.writeByte(2);for(var c=0;_.length-c>255;)u.writeByte(255),u.writeBytes(_,c,255),c+=255;u.writeByte(_.length-c),u.writeBytes(_,c,_.length-c),u.writeByte(0),u.writeString(";")}},W=function(u){for(var _=1<<u,c=1+(1<<u),y=u+1,C=X(),z=0;z<_;z+=1)C.add(String.fromCharCode(z));C.add(String.fromCharCode(_)),C.add(String.fromCharCode(c));var Z,et,rt,it=U(),st=(Z=it,et=0,rt=0,{write:function(ot,G){if(ot>>>G)throw"length over";for(;et+G>=8;)Z.writeByte(255&(ot<<et|rt)),G-=8-et,ot>>>=8-et,rt=0,et=0;rt|=ot<<et,et+=G},flush:function(){et>0&&Z.writeByte(rt)}});st.write(_,y);var lt=0,ht=String.fromCharCode(M[lt]);for(lt+=1;lt<M.length;){var at=String.fromCharCode(M[lt]);lt+=1,C.contains(ht+at)?ht+=at:(st.write(C.indexOf(ht),y),C.size()<4095&&(C.size()==1<<y&&(y+=1),C.add(ht+at)),ht=at)}return st.write(C.indexOf(ht),y),st.write(c,y),st.flush(),it.toByteArray()},X=function(){var u={},_=0,c={add:function(y){if(c.contains(y))throw"dup key:"+y;u[y]=_,_+=1},size:function(){return _},indexOf:function(y){return u[y]},contains:function(y){return u[y]!==void 0}};return c};return T})(f,b),t=0;t<b;t+=1)for(var r=0;r<f;r+=1)e.setPixel(r,t,w(r,t));var o=U();e.write(o);for(var n=(function(){var S=0,R=0,B=0,x="",M={},T=function(X){x+=String.fromCharCode(W(63&X))},W=function(X){if(!(X<0)){if(X<26)return 65+X;if(X<52)return X-26+97;if(X<62)return X-52+48;if(X==62)return 43;if(X==63)return 47}throw"n:"+X};return M.writeByte=function(X){for(S=S<<8|255&X,R+=8,B+=1;R>=6;)T(S>>>R-6),R-=6},M.flush=function(){if(R>0&&(T(S<<6-R),S=0,R=0),B%3!=0)for(var X=3-B%3,u=0;u<X;u+=1)x+="="},M.toString=function(){return x},M})(),l=o.toByteArray(),A=0;A<l.length;A+=1)n.writeByte(l[A]);return n.flush(),"data:image/gif;base64,"+n};return L})();q.stringToBytesFuncs["UTF-8"]=function(L){return(function(k){for(var E=[],$=0;$<k.length;$++){var P=k.charCodeAt($);P<128?E.push(P):P<2048?E.push(192|P>>6,128|63&P):P<55296||P>=57344?E.push(224|P>>12,128|P>>6&63,128|63&P):($++,P=65536+((1023&P)<<10|1023&k.charCodeAt($)),E.push(240|P>>18,128|P>>12&63,128|P>>6&63,128|63&P))}return E})(L)},(I=typeof(v=function(){return q})=="function"?v.apply(m,[]):v)===void 0||(g.exports=I)}},s={};function i(g){var m=s[g];if(m!==void 0)return m.exports;var v=s[g]={exports:{}};return p[g](v,v.exports,i),v.exports}i.n=g=>{var m=g&&g.__esModule?()=>g.default:()=>g;return i.d(m,{a:m}),m},i.d=(g,m)=>{for(var v in m)i.o(m,v)&&!i.o(g,v)&&Object.defineProperty(g,v,{enumerable:!0,get:m[v]})},i.o=(g,m)=>Object.prototype.hasOwnProperty.call(g,m);var a={};return(()=>{i.d(a,{default:()=>b});const g=w=>!!w&&typeof w=="object"&&!Array.isArray(w);function m(w,...e){if(!e.length)return w;const t=e.shift();return t!==void 0&&g(w)&&g(t)?(w=Object.assign({},w),Object.keys(t).forEach((r=>{const o=w[r],n=t[r];Array.isArray(o)&&Array.isArray(n)?w[r]=n:g(o)&&g(n)?w[r]=m(Object.assign({},o),n):w[r]=n})),m(w,...e)):w}function v(w,e){const t=document.createElement("a");t.download=e,t.href=w,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const I={L:.07,M:.15,Q:.25,H:.3};class q{constructor({svg:e,type:t,window:r}){this._svg=e,this._type=t,this._window=r}draw(e,t,r,o){let n;switch(this._type){case"dots":n=this._drawDot;break;case"classy":n=this._drawClassy;break;case"classy-rounded":n=this._drawClassyRounded;break;case"rounded":n=this._drawRounded;break;case"extra-rounded":n=this._drawExtraRounded;break;default:n=this._drawSquare}n.call(this,{x:e,y:t,size:r,getNeighbor:o})}_rotateFigure({x:e,y:t,size:r,rotation:o=0,draw:n}){var l;const A=e+r/2,S=t+r/2;n(),(l=this._element)===null||l===void 0||l.setAttribute("transform",`rotate(${180*o/Math.PI},${A},${S})`)}_basicDot(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+t/2)),this._element.setAttribute("cy",String(o+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(o)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${o}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${o}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${o}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${o}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:r}){this._basicDot({x:e,y:t,size:r,rotation:0})}_drawSquare({x:e,y:t,size:r}){this._basicSquare({x:e,y:t,size:r,rotation:0})}_drawRounded({x:e,y:t,size:r,getNeighbor:o}){const n=o?+o(-1,0):0,l=o?+o(1,0):0,A=o?+o(0,-1):0,S=o?+o(0,1):0,R=n+l+A+S;if(R!==0)if(R>2||n&&l||A&&S)this._basicSquare({x:e,y:t,size:r,rotation:0});else{if(R===2){let B=0;return n&&A?B=Math.PI/2:A&&l?B=Math.PI:l&&S&&(B=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:r,rotation:B})}if(R===1){let B=0;return A?B=Math.PI/2:l?B=Math.PI:S&&(B=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:r,rotation:B})}}else this._basicDot({x:e,y:t,size:r,rotation:0})}_drawExtraRounded({x:e,y:t,size:r,getNeighbor:o}){const n=o?+o(-1,0):0,l=o?+o(1,0):0,A=o?+o(0,-1):0,S=o?+o(0,1):0,R=n+l+A+S;if(R!==0)if(R>2||n&&l||A&&S)this._basicSquare({x:e,y:t,size:r,rotation:0});else{if(R===2){let B=0;return n&&A?B=Math.PI/2:A&&l?B=Math.PI:l&&S&&(B=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:r,rotation:B})}if(R===1){let B=0;return A?B=Math.PI/2:l?B=Math.PI:S&&(B=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:r,rotation:B})}}else this._basicDot({x:e,y:t,size:r,rotation:0})}_drawClassy({x:e,y:t,size:r,getNeighbor:o}){const n=o?+o(-1,0):0,l=o?+o(1,0):0,A=o?+o(0,-1):0,S=o?+o(0,1):0;n+l+A+S!==0?n||A?l||S?this._basicSquare({x:e,y:t,size:r,rotation:0}):this._basicCornerRounded({x:e,y:t,size:r,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:r,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:r,getNeighbor:o}){const n=o?+o(-1,0):0,l=o?+o(1,0):0,A=o?+o(0,-1):0,S=o?+o(0,1):0;n+l+A+S!==0?n||A?l||S?this._basicSquare({x:e,y:t,size:r,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:r,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:r,rotation:Math.PI/2})}}const L={dot:"dot",square:"square",extraRounded:"extra-rounded"},k=Object.values(L);class E{constructor({svg:e,type:t,window:r}){this._svg=e,this._type=t,this._window=r}draw(e,t,r,o){let n;switch(this._type){case L.square:n=this._drawSquare;break;case L.extraRounded:n=this._drawExtraRounded;break;default:n=this._drawDot}n.call(this,{x:e,y:t,size:r,rotation:o})}_rotateFigure({x:e,y:t,size:r,rotation:o=0,draw:n}){var l;const A=e+r/2,S=t+r/2;n(),(l=this._element)===null||l===void 0||l.setAttribute("transform",`rotate(${180*o/Math.PI},${A},${S})`)}_basicDot(e){const{size:t,x:r,y:o}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r+t/2} ${o}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${n}a ${t/2-n} ${t/2-n} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){const{size:t,x:r,y:o}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${o}v ${t}h ${t}v `+-t+`zM ${r+n} ${o+n}h `+(t-2*n)+"v "+(t-2*n)+"h "+(2*n-t)+"z")}}))}_basicExtraRounded(e){const{size:t,x:r,y:o}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${o+2.5*n}v `+2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*n} ${2.5*n}h `+2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*n} ${2.5*-n}v `+-2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*-n} ${2.5*-n}h `+-2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*-n} ${2.5*n}M ${r+2.5*n} ${o+n}h `+2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*n} ${1.5*n}v `+2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*-n} ${1.5*n}h `+-2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*-n} ${1.5*-n}v `+-2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*n} ${1.5*-n}`)}}))}_drawDot({x:e,y:t,size:r,rotation:o}){this._basicDot({x:e,y:t,size:r,rotation:o})}_drawSquare({x:e,y:t,size:r,rotation:o}){this._basicSquare({x:e,y:t,size:r,rotation:o})}_drawExtraRounded({x:e,y:t,size:r,rotation:o}){this._basicExtraRounded({x:e,y:t,size:r,rotation:o})}}const $={dot:"dot",square:"square"},P=Object.values($);class nt{constructor({svg:e,type:t,window:r}){this._svg=e,this._type=t,this._window=r}draw(e,t,r,o){let n;n=this._type===$.square?this._drawSquare:this._drawDot,n.call(this,{x:e,y:t,size:r,rotation:o})}_rotateFigure({x:e,y:t,size:r,rotation:o=0,draw:n}){var l;const A=e+r/2,S=t+r/2;n(),(l=this._element)===null||l===void 0||l.setAttribute("transform",`rotate(${180*o/Math.PI},${A},${S})`)}_basicDot(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+t/2)),this._element.setAttribute("cy",String(o+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:r,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(o)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:r,rotation:o}){this._basicDot({x:e,y:t,size:r,rotation:o})}_drawSquare({x:e,y:t,size:r,rotation:o}){this._basicSquare({x:e,y:t,size:r,rotation:o})}}const H="circle",K=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],N=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class F{constructor(e,t){this._roundSize=r=>this._options.dotsOptions.roundSize?Math.floor(r):r,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=e.image,this._instanceId=F.instanceCount++,this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(e){const t=e.getModuleCount(),r=Math.min(this._options.width,this._options.height)-2*this._options.margin,o=this._options.shape===H?r/Math.sqrt(2):r,n=this._roundSize(o/t);let l={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:A,qrOptions:S}=this._options,R=A.imageSize*I[S.errorCorrectionLevel],B=Math.floor(R*t*t);l=(function({originalHeight:x,originalWidth:M,maxHiddenDots:T,maxHiddenAxisDots:W,dotSize:X}){const u={x:0,y:0},_={x:0,y:0};if(x<=0||M<=0||T<=0||X<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const c=x/M;return u.x=Math.floor(Math.sqrt(T/c)),u.x<=0&&(u.x=1),W&&W<u.x&&(u.x=W),u.x%2==0&&u.x--,_.x=u.x*X,u.y=1+2*Math.ceil((u.x*c-1)/2),_.y=Math.round(_.x*c),(u.y*u.x>T||W&&W<u.y)&&(W&&W<u.y?(u.y=W,u.y%2==0&&u.x--):u.y-=2,_.y=u.y*X,u.x=1+2*Math.ceil((u.y/c-1)/2),_.x=Math.round(_.y/c)),{height:_.y,width:_.x,hideYDots:u.y,hideXDots:u.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:B,maxHiddenAxisDots:t-14,dotSize:n})}this.drawBackground(),this.drawDots(((A,S)=>{var R,B,x,M,T,W;return!(this._options.imageOptions.hideBackgroundDots&&A>=(t-l.hideYDots)/2&&A<(t+l.hideYDots)/2&&S>=(t-l.hideXDots)/2&&S<(t+l.hideXDots)/2||!((R=K[A])===null||R===void 0)&&R[S]||!((B=K[A-t+7])===null||B===void 0)&&B[S]||!((x=K[A])===null||x===void 0)&&x[S-t+7]||!((M=N[A])===null||M===void 0)&&M[S]||!((T=N[A-t+7])===null||T===void 0)&&T[S]||!((W=N[A])===null||W===void 0)&&W[S-t+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:l.width,height:l.height,count:t,dotSize:n})}drawBackground(){var e,t,r;const o=this._element,n=this._options;if(o){const l=(e=n.backgroundOptions)===null||e===void 0?void 0:e.gradient,A=(t=n.backgroundOptions)===null||t===void 0?void 0:t.color;let S=n.height,R=n.width;if(l||A){const B=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((r=n.backgroundOptions)===null||r===void 0)&&r.round&&(S=R=Math.min(n.width,n.height),B.setAttribute("rx",String(S/2*n.backgroundOptions.round))),B.setAttribute("x",String(this._roundSize((n.width-R)/2))),B.setAttribute("y",String(this._roundSize((n.height-S)/2))),B.setAttribute("width",String(R)),B.setAttribute("height",String(S)),this._backgroundClipPath.appendChild(B),this._createColor({options:l,color:A,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:`background-color-${this._instanceId}`})}}}drawDots(e){var t,r;if(!this._qr)throw"QR code is not defined";const o=this._options,n=this._qr.getModuleCount();if(n>o.width||n>o.height)throw"The canvas is too small.";const l=Math.min(o.width,o.height)-2*o.margin,A=o.shape===H?l/Math.sqrt(2):l,S=this._roundSize(A/n),R=this._roundSize((o.width-n*S)/2),B=this._roundSize((o.height-n*S)/2),x=new q({svg:this._element,type:o.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=o.dotsOptions)===null||t===void 0?void 0:t.gradient,color:o.dotsOptions.color,additionalRotation:0,x:0,y:0,height:o.height,width:o.width,name:`dot-color-${this._instanceId}`});for(let M=0;M<n;M++)for(let T=0;T<n;T++)e&&!e(M,T)||!((r=this._qr)===null||r===void 0)&&r.isDark(M,T)&&(x.draw(R+T*S,B+M*S,S,((W,X)=>!(T+W<0||M+X<0||T+W>=n||M+X>=n)&&!(e&&!e(M+X,T+W))&&!!this._qr&&this._qr.isDark(M+X,T+W))),x._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(x._element));if(o.shape===H){const M=this._roundSize((l/S-n)/2),T=n+2*M,W=R-M*S,X=B-M*S,u=[],_=this._roundSize(T/2);for(let c=0;c<T;c++){u[c]=[];for(let y=0;y<T;y++)c>=M-1&&c<=T-M&&y>=M-1&&y<=T-M||Math.sqrt((c-_)*(c-_)+(y-_)*(y-_))>_?u[c][y]=0:u[c][y]=this._qr.isDark(y-2*M<0?y:y>=n?y-2*M:y-M,c-2*M<0?c:c>=n?c-2*M:c-M)?1:0}for(let c=0;c<T;c++)for(let y=0;y<T;y++)u[c][y]&&(x.draw(W+y*S,X+c*S,S,((C,z)=>{var Z;return!!(!((Z=u[c+z])===null||Z===void 0)&&Z[y+C])})),x._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(x._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const e=this._element,t=this._options;if(!e)throw"Element code is not defined";const r=this._qr.getModuleCount(),o=Math.min(t.width,t.height)-2*t.margin,n=t.shape===H?o/Math.sqrt(2):o,l=this._roundSize(n/r),A=7*l,S=3*l,R=this._roundSize((t.width-r*l)/2),B=this._roundSize((t.height-r*l)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([x,M,T])=>{var W,X,u,_,c,y,C,z,Z,et,rt,it,st,lt;const ht=R+x*l*(r-7),at=B+M*l*(r-7);let ot=this._dotsClipPath,G=this._dotsClipPath;if((!((W=t.cornersSquareOptions)===null||W===void 0)&&W.gradient||!((X=t.cornersSquareOptions)===null||X===void 0)&&X.color)&&(ot=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),ot.setAttribute("id",`clip-path-corners-square-color-${x}-${M}-${this._instanceId}`),this._defs.appendChild(ot),this._cornersSquareClipPath=this._cornersDotClipPath=G=ot,this._createColor({options:(u=t.cornersSquareOptions)===null||u===void 0?void 0:u.gradient,color:(_=t.cornersSquareOptions)===null||_===void 0?void 0:_.color,additionalRotation:T,x:ht,y:at,height:A,width:A,name:`corners-square-color-${x}-${M}-${this._instanceId}`})),((c=t.cornersSquareOptions)===null||c===void 0?void 0:c.type)&&k.includes(t.cornersSquareOptions.type)){const ct=new E({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});ct.draw(ht,at,A,T),ct._element&&ot&&ot.appendChild(ct._element)}else{const ct=new q({svg:this._element,type:((y=t.cornersSquareOptions)===null||y===void 0?void 0:y.type)||t.dotsOptions.type,window:this._window});for(let dt=0;dt<K.length;dt++)for(let tt=0;tt<K[dt].length;tt++)!((C=K[dt])===null||C===void 0)&&C[tt]&&(ct.draw(ht+tt*l,at+dt*l,l,((wt,ft)=>{var gt;return!!(!((gt=K[dt+ft])===null||gt===void 0)&&gt[tt+wt])})),ct._element&&ot&&ot.appendChild(ct._element))}if((!((z=t.cornersDotOptions)===null||z===void 0)&&z.gradient||!((Z=t.cornersDotOptions)===null||Z===void 0)&&Z.color)&&(G=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),G.setAttribute("id",`clip-path-corners-dot-color-${x}-${M}-${this._instanceId}`),this._defs.appendChild(G),this._cornersDotClipPath=G,this._createColor({options:(et=t.cornersDotOptions)===null||et===void 0?void 0:et.gradient,color:(rt=t.cornersDotOptions)===null||rt===void 0?void 0:rt.color,additionalRotation:T,x:ht+2*l,y:at+2*l,height:S,width:S,name:`corners-dot-color-${x}-${M}-${this._instanceId}`})),((it=t.cornersDotOptions)===null||it===void 0?void 0:it.type)&&P.includes(t.cornersDotOptions.type)){const ct=new nt({svg:this._element,type:t.cornersDotOptions.type,window:this._window});ct.draw(ht+2*l,at+2*l,S,T),ct._element&&G&&G.appendChild(ct._element)}else{const ct=new q({svg:this._element,type:((st=t.cornersDotOptions)===null||st===void 0?void 0:st.type)||t.dotsOptions.type,window:this._window});for(let dt=0;dt<N.length;dt++)for(let tt=0;tt<N[dt].length;tt++)!((lt=N[dt])===null||lt===void 0)&&lt[tt]&&(ct.draw(ht+tt*l,at+dt*l,l,((wt,ft)=>{var gt;return!!(!((gt=N[dt+ft])===null||gt===void 0)&&gt[tt+wt])})),ct._element&&G&&G.appendChild(ct._element))}}))}loadImage(){return new Promise(((e,t)=>{var r;const o=this._options;if(!o.image)return t("Image is not defined");if(!((r=o.nodeCanvas)===null||r===void 0)&&r.loadImage)o.nodeCanvas.loadImage(o.image).then((n=>{var l,A;if(this._image=n,this._options.imageOptions.saveAsBlob){const S=(l=o.nodeCanvas)===null||l===void 0?void 0:l.createCanvas(this._image.width,this._image.height);(A=S?.getContext("2d"))===null||A===void 0||A.drawImage(n,0,0),this._imageUri=S?.toDataURL()}e()})).catch(t);else{const n=new this._window.Image;typeof o.imageOptions.crossOrigin=="string"&&(n.crossOrigin=o.imageOptions.crossOrigin),this._image=n,n.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function(l,A){return new Promise((S=>{const R=new A.XMLHttpRequest;R.onload=function(){const B=new A.FileReader;B.onloadend=function(){S(B.result)},B.readAsDataURL(R.response)},R.open("GET",l),R.responseType="blob",R.send()}))})(o.image||"",this._window)),e()},n.src=o.image}}))}async drawImage({width:e,height:t,count:r,dotSize:o}){const n=this._options,l=this._roundSize((n.width-r*o)/2),A=this._roundSize((n.height-r*o)/2),S=l+this._roundSize(n.imageOptions.margin+(r*o-e)/2),R=A+this._roundSize(n.imageOptions.margin+(r*o-t)/2),B=e-2*n.imageOptions.margin,x=t-2*n.imageOptions.margin,M=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");M.setAttribute("href",this._imageUri||""),M.setAttribute("xlink:href",this._imageUri||""),M.setAttribute("x",String(S)),M.setAttribute("y",String(R)),M.setAttribute("width",`${B}px`),M.setAttribute("height",`${x}px`),this._element.appendChild(M)}_createColor({options:e,color:t,additionalRotation:r,x:o,y:n,height:l,width:A,name:S}){const R=A>l?A:l,B=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(B.setAttribute("x",String(o)),B.setAttribute("y",String(n)),B.setAttribute("height",String(l)),B.setAttribute("width",String(A)),B.setAttribute("clip-path",`url('#clip-path-${S}')`),e){let x;if(e.type==="radial")x=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),x.setAttribute("id",S),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("fx",String(o+A/2)),x.setAttribute("fy",String(n+l/2)),x.setAttribute("cx",String(o+A/2)),x.setAttribute("cy",String(n+l/2)),x.setAttribute("r",String(R/2));else{const M=((e.rotation||0)+r)%(2*Math.PI),T=(M+2*Math.PI)%(2*Math.PI);let W=o+A/2,X=n+l/2,u=o+A/2,_=n+l/2;T>=0&&T<=.25*Math.PI||T>1.75*Math.PI&&T<=2*Math.PI?(W-=A/2,X-=l/2*Math.tan(M),u+=A/2,_+=l/2*Math.tan(M)):T>.25*Math.PI&&T<=.75*Math.PI?(X-=l/2,W-=A/2/Math.tan(M),_+=l/2,u+=A/2/Math.tan(M)):T>.75*Math.PI&&T<=1.25*Math.PI?(W+=A/2,X+=l/2*Math.tan(M),u-=A/2,_-=l/2*Math.tan(M)):T>1.25*Math.PI&&T<=1.75*Math.PI&&(X+=l/2,W+=A/2/Math.tan(M),_-=l/2,u-=A/2/Math.tan(M)),x=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),x.setAttribute("id",S),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("x1",String(Math.round(W))),x.setAttribute("y1",String(Math.round(X))),x.setAttribute("x2",String(Math.round(u))),x.setAttribute("y2",String(Math.round(_)))}e.colorStops.forEach((({offset:M,color:T})=>{const W=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");W.setAttribute("offset",100*M+"%"),W.setAttribute("stop-color",T),x.appendChild(W)})),B.setAttribute("fill",`url('#${S}')`),this._defs.appendChild(x)}else t&&B.setAttribute("fill",t);this._element.appendChild(B)}}F.instanceCount=0;const ut=F,O="canvas",Q={};for(let w=0;w<=40;w++)Q[w]=w;const V={type:O,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Q[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function D(w){const e=Object.assign({},w);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map((t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)}))),e}function J(w){const e=Object.assign({},w);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=D(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=D(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=D(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=D(e.backgroundOptions.gradient))),e}var U=i(873),Y=i.n(U);function j(w){if(!w)throw new Error("Extension must be defined");w[0]==="."&&(w=w.substring(1));const e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[w.toLowerCase()];if(!e)throw new Error(`Extension "${w}" is not supported`);return e}class f{constructor(e){e?.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?J(m(V,e)):V,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;const e=new ut(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then((()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))}))}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then((()=>{var r;if(!this._svg)return;const o=this._svg,n=new this._window.XMLSerializer().serializeToString(o),l=btoa(n),A=`data:${j("svg")};base64,${l}`;if(!((r=this._options.nodeCanvas)===null||r===void 0)&&r.loadImage)return this._options.nodeCanvas.loadImage(A).then((S=>{var R,B;S.width=this._options.width,S.height=this._options.height,(B=(R=this._nodeCanvas)===null||R===void 0?void 0:R.getContext("2d"))===null||B===void 0||B.drawImage(S,0,0)}));{const S=new this._window.Image;return new Promise((R=>{S.onload=()=>{var B,x;(x=(B=this._domCanvas)===null||B===void 0?void 0:B.getContext("2d"))===null||x===void 0||x.drawImage(S,0,0),R()},S.src=A}))}})))}async _getElement(e="png"){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(e){f._clearContainer(this._container),this._options=e?J(m(this._options,e)):this._options,this._options.data&&(this._qr=Y()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===O?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===O?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(e="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(e),r=j(e);if(!t)return null;if(e.toLowerCase()==="svg"){const o=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(o):new Blob([o],{type:r})}return new Promise((o=>{const n=t;if("toBuffer"in n)if(r==="image/png")o(n.toBuffer(r));else if(r==="image/jpeg")o(n.toBuffer(r));else{if(r!=="application/pdf")throw Error("Unsupported extension");o(n.toBuffer(r))}else"toBlob"in n&&n.toBlob(o,r,1)}))}async download(e){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",r="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(r=e.name),e.extension&&(t=e.extension));const o=await this._getElement(t);if(o)if(t.toLowerCase()==="svg"){let n=new XMLSerializer().serializeToString(o);n=`<?xml version="1.0" standalone="no"?>\r
`+n,v(`data:${j(t)};charset=utf-8,${encodeURIComponent(n)}`,`${r}.svg`)}else v(o.toDataURL(j(t)),`${r}.${t}`)}}const b=f})(),a.default})()))})(Et)),Et.exports}var sn=on();const an=Re(sn);class un extends Ne{constructor(d){super(d),this.state={title:document.title,url:window.location.href}}componentDidMount(){super.componentDidMount(),Wt("ShareDialog componentDidMount, title = "+document.title+", url = "+window.location.href),this.rootE?.querySelector(".share-qrcode-picture img");const d=this.rootE?.querySelector(".share-qrcode-picture");new an({width:300,height:300,type:"svg",data:this.state.url,image:"",qrOptions:{errorCorrectionLevel:"M"},cornersSquareOptions:{type:"rounded"},dotsOptions:{color:"#000000",type:"extra-rounded"},backgroundOptions:{color:"#ffffff"},imageOptions:{crossOrigin:"anonymous",margin:140}}).append(d)}dialogContent(){return Wt("ShareDialog render"),Ct.jsxs("div",{className:"center-items",children:[Ct.jsx("div",{className:"share-qrcode-picture"}),Ct.jsx("p",{className:"share-title",children:this.state.title}),Ct.jsx("pre",{children:Ct.jsx("code",{className:"share-url",children:this.state.url})})]})}}let cn=0;function dn(){qe(Ct.jsx(un,{openCount:cn++,fixedWidth:!1,btnText:"关闭",OnClickBtn:void 0,closeOnClickOutside:!0}),Oe)}export{dn as showShareDialog};

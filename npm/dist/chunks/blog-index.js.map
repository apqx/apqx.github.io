{"version":3,"file":"blog-index.js","sources":["../../src/component/card.ts","../../src/base/ResizeWidthObserver.ts","../../src/component/react/IndexLinearPosts.tsx","../../src/component/animation/ImageLoadAnimator.ts","../../node_modules/react-masonry-css/dist/react-masonry-css.module.js","../../src/component/react/IndexGridLens.tsx","../../src/component/react/IndexGridPosts.tsx","../../src/page/index.tsx"],"sourcesContent":["// import \"./card.scss\"\nimport { MDCRipple } from \"@material/ripple\";\n\nexport function initCard() {}\n\nexport function setupCardRipple(ele?: Element) {\n    if (ele != null) {\n        new MDCRipple(ele)\n    }\n}","import { consoleDebug } from \"../util/log\"\n\nexport class ResizeWidthObserver {\n    callback: (width: number) => void\n    lastTimeout?: NodeJS.Timeout\n    lastWidth = -1\n    resizeObserver = new ResizeObserver((entries) => {\n        const entry = entries.pop()\n        if (entry!!.contentRect.width == this.lastWidth) {\n            // å®½åº¦æ²¡æœ‰å˜åŒ–\n            return\n        }\n        if (entry!!.contentRect.width == 0) {\n            // å®½åº¦å˜ä¸º0æ˜¯ä»€ä¹ˆæƒ…å†µğŸ™„\n            return\n        }\n        this.lastWidth = entry!!.contentRect.width\n        if (this.lastTimeout != null) {\n            clearTimeout(this.lastTimeout)\n        }\n        this.lastTimeout = setTimeout(() => {\n            consoleDebug(\"ResizeWidthObserver width changed after delay \" + entry!!.contentRect.width)\n            this.callback(entry!!.contentRect.width)\n        }, 200)\n    })\n    constructor(e: HTMLElement, callback: (width: number) => void) {\n        this.lastWidth = e.clientWidth\n        this.callback = callback\n        this.resizeObserver.observe(e)\n    }\n\n    destroy() {\n        this.resizeObserver.disconnect()\n    }\n}","// import \"./IndexList.scss\"\nimport { useCallback, useEffect, useMemo, useRef, useSyncExternalStore } from \"react\"\nimport { LoadingHint } from \"./LoadingHint\"\nimport { consoleDebug, consoleObjDebug } from \"../../util/log\"\nimport { getInterSectionObserver } from \"../animation/BaseAnimation\"\nimport { getSplittedDate } from \"../../base/post\"\nimport { setupCardRipple } from \"../card\"\nimport type { Post } from \"../base/paginate/bean/Post\"\nimport { HttpPaginatorViewModel as HttpPaginateViewModel } from \"../base/paginate/HttpPaginateViewModel\"\nimport type { ApiPost } from \"../../repository/bean/service/ApiPost\"\nimport { PostHttpPaginator } from \"../base/paginate/PostHttpPaginator\"\nimport type { BasePaginateViewProps } from \"../base/paginate/bean/BasePaginateViewProps\"\n\nexport function IndexLinearPosts(props: BasePaginateViewProps<Post>) {\n    const paginateViewModel = useMemo(() => {\n        const options = {\n            tag: props.tag,\n            category: props.category,\n        }\n        return new HttpPaginateViewModel<ApiPost, PostHttpPaginator, Post>(new PostHttpPaginator(options))\n    }, [])\n    const state = useSyncExternalStore(paginateViewModel.subscribe, () => paginateViewModel.state)\n\n    useEffect(() => {\n        consoleDebug(`IndexLinearPosts useEffect, tag: ${props.tag}, category: ${props.category}`)\n        paginateViewModel.load()\n\n        if (props.onMount != null) props.onMount()\n\n        return () => {\n            consoleDebug(\"IndexLinearPosts useEffect cleanup\")\n        }\n    }, [])\n\n    const onLoadMore = useCallback(() => {\n        paginateViewModel.loadMore()\n    }, [])\n\n    const onClickHint = useCallback(() => {\n        if (state.posts.length > 0) {\n            paginateViewModel.loadMore(true)\n        } else {\n            paginateViewModel.load(true)\n        }\n    }, [state.posts])\n\n    const showPosts = useMemo(() => {\n        if (state.posts.length == 0) {\n            return props.loadedPosts\n        }\n        return state.posts\n    }, [state.posts])\n\n    return (\n        <ul className=\"index-ul\">\n            {/* ç½®é¡¶ */}\n            {props.pinnedPosts.map((post) =>\n                <IndexItem key={post.title + post.date}\n                    title={post.title} author={post.author} date={post.date} description={post.description} path={post.path}\n                    fromPinnedList={true} pinned={true} featured={post.featured} />\n            )}\n            {/* æ™®é€š */}\n            {showPosts.map((item, index) =>\n                // æœ‰æ—¶å€™ jekyll ç”Ÿæˆçš„ path å’Œ paginate ç”Ÿæˆçš„ path ä¸ä¸€æ ·ï¼Œå¯¼è‡´ item é‡æ–°åŠ è½½\n                <IndexItem key={item.path}\n                    title={item.title} author={item.author} date={item.date} description={item.description} path={item.path}\n                    fromPinnedList={false} pinned={item.pinned} featured={item.featured} />\n            )}\n            <LoadingHint loading={state.loading} loadHint={state.loadingHint} onClickHint={onClickHint} onLoadMore={onLoadMore} />\n        </ul>\n    )\n}\n\ntype IndexItemProps = {\n    title: string,\n    author: string,\n    date: string,\n    description: string,\n    path: string,\n    fromPinnedList: boolean,\n    pinned: boolean,\n    featured: boolean,\n}\n\nfunction IndexItem(props: IndexItemProps) {\n    const containerRef = useRef<HTMLLIElement>(null)\n    const cardE = useRef<HTMLElement>(null)\n    const date = useMemo(() => getSplittedDate(props.date), [props.date]);\n\n    useEffect(() => {\n        consoleObjDebug(\"IndexItem component mounted\", props)\n        const rootE = containerRef.current as HTMLElement;\n        cardE.current = rootE.querySelector(\".index-card\") as HTMLElement\n\n        setupCardRipple(cardE.current)\n        // ç›‘å¬å…ƒç´ è¿›å…¥çª—å£åˆæ¬¡æ˜¾ç¤º\n        // TODO: æ‰§è¡ŒåŠ¨ç”»ååº”è¯¥ç«‹å³è§£é™¤ç›‘å¬ï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€\n        if (cardE.current != null) {\n            getInterSectionObserver().observe(cardE.current)\n        }\n\n        return () => {\n            consoleDebug(\"IndexItem component unmount \" + props.title)\n            if (cardE.current != null) {\n                getInterSectionObserver().unobserve(cardE.current)\n            }\n        }\n    }, [])\n\n    return (\n        <li ref={containerRef} className=\"index-li\">\n            <a className={`index-a mdc-card index-card card-slide-in`} href={props.path}>\n                <section>\n                    <h1 className=\"index-title\">{props.title}</h1>\n                    <span className=\"index-author\">{props.author}</span>\n                    <span className=\"index-date\">\n                        {date.year}<span className=\"year\">å¹´</span>\n                        {date.month}<span className=\"month\">æœˆ</span>\n                        {date.day}<span className=\"day\">æ—¥</span>\n                    </span>\n                    {props.fromPinnedList &&\n                        <span className=\"index-pinned-icon-container\"><i className=\"material-symbols-rounded-variable\">keep</i></span>\n                    }\n                    {!props.fromPinnedList && (props.pinned || props.featured) &&\n                        <span className=\"index-featured-icon-container\"><i className=\"material-symbols-rounded-variable\">editor_choice</i></span>\n                    }\n                </section>\n            </a>\n            <hr className=\"index-li-divider\" />\n        </li>\n    )\n}\n","import { ResizeWidthObserver } from \"../../base/ResizeWidthObserver\"\nimport { consoleDebug } from \"../../util/log\"\nimport { getElementAttribute, toggleElementClass } from \"../../util/tools\"\n\n/**\n * å›¾ç‰‡åŠ è½½åŠ¨ç”»ï¼Œéœ€è¦è‡ªå·±æ·»åŠ  transition å±æ€§å’Œåˆå§‹ heightï¼Œå¦åˆ™ä¸ä¼šæœ‰åŠ¨ç”»\n */\nexport class ImageLoadAnimator {\n    imgE: HTMLImageElement\n    id?: string\n    widthResizeObserver?: ResizeWidthObserver\n    animationBeforeStart?: (() => boolean)\n\n    /**\n     * ä¸ºå›¾ç‰‡åŠ è½½æ·»åŠ é«˜åº¦å˜åŒ–åŠ¨ç”»\n     * @param imgE ç›®æ ‡å›¾ç‰‡å…ƒç´ \n     * @param ratio å›¾ç‰‡å®½é«˜æ¯”\n     * @param monitorResize æ˜¯å¦ç›‘å¬å®½åº¦å˜åŒ–ï¼ŒåŠ¨ç”»è°ƒæ•´é«˜åº¦ï¼Œfalse ä¼šåœ¨åŠ è½½å®Œæˆåè®¾ç½®é«˜åº¦ä¸º autoï¼Œä¹‹åä¸ä¼šå†æœ‰åŠ¨ç”»\n     * @param [animationBeforeStart=null] åŠ¨ç”»å¼€å§‹å‰çš„å›è°ƒå‡½æ•°ï¼Œè¿”å›trueè¡¨ç¤ºç»§ç»­æ‰§è¡ŒåŠ¨ç”»ï¼Œfalseè¡¨ç¤ºä¸æ‰§è¡ŒåŠ¨ç”»\n     * @param [animationEndCallback=null] åŠ¨ç”»ç»“æŸåçš„å›è°ƒå‡½æ•°\n     */\n    constructor(imgE: HTMLImageElement, ratio: number = -1, monitorResize: boolean = false, animationBeforeStart?: (() => boolean), animationEndCallback?: (() => void)) {\n        this.imgE = imgE\n        this.id = getElementAttribute(imgE, \"alt\") ?? undefined\n        this.animationBeforeStart = animationBeforeStart\n\n        // å›¾ç‰‡æœ‰å¯èƒ½å·²ç»åŠ è½½ã€æ˜¾ç¤ºå®Œæˆ\n        if (imgE.complete) {\n            consoleDebug(\"Image complete \" + this.id + \", \" +\n                imgE.width + \" : \" + imgE.height + \", \" + imgE.naturalWidth + \" : \" + imgE.naturalHeight)\n            if (ratio == -1) {\n                ratio = imgE.naturalWidth / imgE.naturalHeight\n            }\n            this.setImageHeight(imgE, ratio)\n        } else {\n            // å¦‚ä½•è·å–å›¾ç‰‡çš„åŸå§‹å°ºå¯¸\n            // æ‡’åŠ è½½å®Œæˆç›‘å¬\n            imgE.onload = () => {\n                consoleDebug(\"Image onload \" + this.id + \", \" +\n                    imgE.width + \" : \" + imgE.height + \", \" + imgE.naturalWidth + \" : \" + imgE.naturalHeight)\n                // æµè§ˆå™¨ä¸‹è½½å®Œæˆï¼Œå°šæœªæ˜¾ç¤ºå‡ºæ¥ï¼Œå°ºå¯¸heightå·²ç»è®¡ç®—å‡ºæ¥äº†\n                if (ratio == -1) {\n                    ratio = imgE.naturalWidth / imgE.naturalHeight\n                }\n                this.setImageHeight(imgE, ratio)\n                imgE.onerror = () => {\n                    if (ratio != -1)\n                        this.setImageHeight(imgE, ratio)\n                }\n            }\n        }\n        if (monitorResize) {\n            this.widthResizeObserver = new ResizeWidthObserver(imgE, (width) => {\n                consoleDebug(\"Image widthResizeObserver \" + this.id + \", width = \" + width)\n                if (ratio == -1) {\n                    ratio = imgE.naturalWidth / imgE.naturalHeight\n                }\n                this.setImageHeight(imgE, ratio)\n            })\n        }\n\n        const transitionEndListener = () => {\n            consoleDebug(\"Image transitionend \" + this.id)\n            // åŠ¨ç”»å®Œæˆåï¼Œåˆ é™¤åŠ¨ç”»ç±»ï¼Œè®¾ç½®é«˜åº¦ä¸º auto\n            this.animationDone(monitorResize, imgE, animationEndCallback)\n            removeListeners()\n        }\n        const transitionCancelListener = () => {\n            consoleDebug(\"Image animationcancel \" + this.id)\n            this.animationDone(monitorResize, imgE, animationEndCallback)\n            removeListeners()\n        }\n\n        const removeListeners = () => {\n            imgE.removeEventListener(\"transitionend\", transitionEndListener)\n            imgE.removeEventListener(\"animationcancel\", transitionCancelListener)\n        }\n\n        // ç›‘å¬åŠ¨ç”»å®Œæˆ\n        imgE.addEventListener(\"transitionend\", transitionEndListener)\n        // ç›‘å¬åŠ¨ç”»å¤±è´¥\n        imgE.addEventListener(\"animationcancel\", transitionCancelListener)\n    }\n\n    private animationDone(monitorResize: boolean, imgE: HTMLImageElement, animationEndCallback?: (() => void)) {\n        if (!monitorResize) {\n            toggleElementClass(imgE, \"image-height-animation\", false)\n            imgE.style.height = \"auto\"\n        }\n        if (animationEndCallback != null) animationEndCallback()\n    }\n\n    setImageHeight(imgE: HTMLImageElement, ratio: number) {\n        // æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰§è¡ŒåŠ¨ç”»\n        if (this.animationBeforeStart != null && !this.animationBeforeStart()) {\n            consoleDebug(\"ImageLoadAnimator animationBeforeStart returned false, not animating \" + this.id)\n            // åˆ é™¤åŠ¨ç”»ç±»ï¼ŒImg é«˜åº¦è‡ªåŠ¨å˜ä¸ºå›¾ç‰‡å®é™…é«˜åº¦\n            toggleElementClass(imgE, \"image-height-animation\", false)\n            imgE.style.height = \"auto\"\n            return\n        }\n\n        const height = imgE.width / ratio\n        consoleDebug(\"SetImageHeight = \" + height + \", \" + this.id)\n        imgE.style.height = height + \"px\"\n        // å¦‚æœä½¿ç”¨äº† will-changeï¼Œè¦åŠæ—¶å…³é—­\n    }\n\n    destroy() {\n        if (this.widthResizeObserver != null) this.widthResizeObserver.destroy()\n    }\n}\n","import React from 'react';\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nconst defaultProps = {\n  breakpointCols: undefined,\n  // optional, number or object { default: number, [key: number]: number }\n  className: undefined,\n  // required, string\n  columnClassName: undefined,\n  // optional, string\n  // Any React children. Typically an array of JSX items\n  children: undefined,\n  // Custom attributes, however it is advised against\n  // using these to prevent unintended issues and future conflicts\n  // ...any other attribute, will be added to the container\n  columnAttrs: undefined,\n  // object, added to the columns\n  // Deprecated props\n  // The column property is deprecated.\n  // It is an alias of the `columnAttrs` property\n  column: undefined\n};\nconst DEFAULT_COLUMNS = 2;\n\nclass Masonry extends React.Component {\n  constructor(props) {\n    super(props); // Correct scope for when methods are accessed externally\n\n    this.reCalculateColumnCount = this.reCalculateColumnCount.bind(this);\n    this.reCalculateColumnCountDebounce = this.reCalculateColumnCountDebounce.bind(this); // default state\n\n    let columnCount;\n\n    if (this.props.breakpointCols && this.props.breakpointCols.default) {\n      columnCount = this.props.breakpointCols.default;\n    } else {\n      columnCount = parseInt(this.props.breakpointCols) || DEFAULT_COLUMNS;\n    }\n\n    this.state = {\n      columnCount\n    };\n  }\n\n  componentDidMount() {\n    this.reCalculateColumnCount(); // window may not be available in some environments\n\n    if (window) {\n      window.addEventListener('resize', this.reCalculateColumnCountDebounce);\n    }\n  }\n\n  componentDidUpdate() {\n    this.reCalculateColumnCount();\n  }\n\n  componentWillUnmount() {\n    if (window) {\n      window.removeEventListener('resize', this.reCalculateColumnCountDebounce);\n    }\n  }\n\n  reCalculateColumnCountDebounce() {\n    if (!window || !window.requestAnimationFrame) {\n      // IE10+\n      this.reCalculateColumnCount();\n      return;\n    }\n\n    if (window.cancelAnimationFrame) {\n      // IE10+\n      window.cancelAnimationFrame(this._lastRecalculateAnimationFrame);\n    }\n\n    this._lastRecalculateAnimationFrame = window.requestAnimationFrame(() => {\n      this.reCalculateColumnCount();\n    });\n  }\n\n  reCalculateColumnCount() {\n    const windowWidth = window && window.innerWidth || Infinity;\n    let breakpointColsObject = this.props.breakpointCols; // Allow passing a single number to `breakpointCols` instead of an object\n\n    if (typeof breakpointColsObject !== 'object') {\n      breakpointColsObject = {\n        default: parseInt(breakpointColsObject) || DEFAULT_COLUMNS\n      };\n    }\n\n    let matchedBreakpoint = Infinity;\n    let columns = breakpointColsObject.default || DEFAULT_COLUMNS;\n\n    for (let breakpoint in breakpointColsObject) {\n      const optBreakpoint = parseInt(breakpoint);\n      const isCurrentBreakpoint = optBreakpoint > 0 && windowWidth <= optBreakpoint;\n\n      if (isCurrentBreakpoint && optBreakpoint < matchedBreakpoint) {\n        matchedBreakpoint = optBreakpoint;\n        columns = breakpointColsObject[breakpoint];\n      }\n    }\n\n    columns = Math.max(1, parseInt(columns) || 1);\n\n    if (this.state.columnCount !== columns) {\n      this.setState({\n        columnCount: columns\n      });\n    }\n  }\n\n  itemsInColumns() {\n    const currentColumnCount = this.state.columnCount;\n    const itemsInColumns = new Array(currentColumnCount); // Force children to be handled as an array\n\n    const items = React.Children.toArray(this.props.children);\n\n    for (let i = 0; i < items.length; i++) {\n      const columnIndex = i % currentColumnCount;\n\n      if (!itemsInColumns[columnIndex]) {\n        itemsInColumns[columnIndex] = [];\n      }\n\n      itemsInColumns[columnIndex].push(items[i]);\n    }\n\n    return itemsInColumns;\n  }\n\n  renderColumns() {\n    const {\n      column,\n      columnAttrs = {},\n      columnClassName\n    } = this.props;\n    const childrenInColumns = this.itemsInColumns();\n    const columnWidth = `${100 / childrenInColumns.length}%`;\n    let className = columnClassName;\n\n    if (className && typeof className !== 'string') {\n      this.logDeprecated('The property \"columnClassName\" requires a string'); // This is a deprecated default and will be removed soon.\n\n      if (typeof className === 'undefined') {\n        className = 'my-masonry-grid_column';\n      }\n    }\n\n    const columnAttributes = _objectSpread(_objectSpread(_objectSpread({}, column), columnAttrs), {}, {\n      style: _objectSpread(_objectSpread({}, columnAttrs.style), {}, {\n        width: columnWidth\n      }),\n      className\n    });\n\n    return childrenInColumns.map((items, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", _extends({}, columnAttributes, {\n        key: i\n      }), items);\n    });\n  }\n\n  logDeprecated(message) {\n    console.error('[Masonry]', message);\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      // ignored\n      children,\n      breakpointCols,\n      columnClassName,\n      columnAttrs,\n      column,\n      // used\n      className\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"children\", \"breakpointCols\", \"columnClassName\", \"columnAttrs\", \"column\", \"className\"]);\n\n    let classNameOutput = className;\n\n    if (typeof className !== 'string') {\n      this.logDeprecated('The property \"className\" requires a string'); // This is a deprecated default and will be removed soon.\n\n      if (typeof className === 'undefined') {\n        classNameOutput = 'my-masonry-grid';\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      className: classNameOutput\n    }), this.renderColumns());\n  }\n\n}\n\nMasonry.defaultProps = defaultProps;\n\nexport default Masonry;\n","// import \"./LensIndexList.scss\"\nimport { useCallback, useEffect, useMemo, useRef, useState, useSyncExternalStore } from \"react\"\nimport { ImageLoadAnimator } from \"../animation/ImageLoadAnimator\"\nimport { LoadingHint } from \"./LoadingHint\"\nimport { consoleDebug, consoleObjDebug } from \"../../util/log\"\nimport Masonry from 'react-masonry-css'\nimport { getInterSectionObserver } from \"../animation/BaseAnimation\"\nimport { getSplittedDate } from \"../../base/post\"\nimport { setupCardRipple } from \"../card\"\nimport type { Post } from \"../base/paginate/bean/Post\"\nimport { HttpPaginatorViewModel } from \"../base/paginate/HttpPaginateViewModel\"\nimport type { ApiPost } from \"../../repository/bean/service/ApiPost\"\nimport { PostHttpPaginator } from \"../base/paginate/PostHttpPaginator\"\nimport { PagefindPaginateViewModel } from \"../base/paginate/PagefindPaginateViewModel\"\nimport type { PagefindResultItem } from \"../../repository/bean/pagefind/ApiPagefindSearch\"\nimport { PostPagefindPaginator } from \"../base/paginate/PostPagefindPaginator\"\nimport type { BasePaginateViewProps } from \"../base/paginate/bean/BasePaginateViewProps\"\nimport { getEventEmitter } from \"../base/EventBus\"\n\nexport function IndexGridLens(props: BasePaginateViewProps<Post>) {\n    const [filterTags, setFilterTags] = useState<Array<string>>([])\n\n    const httpPaginateViewModel = useMemo(() => {\n        const options = {\n            tag: props.tag,\n            category: props.category,\n        }\n        return new HttpPaginatorViewModel<ApiPost, PostHttpPaginator, Post>(new PostHttpPaginator(options))\n    }, [])\n    const pagefindPaginateViewModel = useMemo(() => {\n        return new PagefindPaginateViewModel<PagefindResultItem, Post, PostPagefindPaginator>(new PostPagefindPaginator())\n    }, [])\n\n    const httpState = useSyncExternalStore(httpPaginateViewModel.subscribe, () => httpPaginateViewModel.state)\n    const pagefindState = useSyncExternalStore(pagefindPaginateViewModel.subscribe, () => pagefindPaginateViewModel.state)\n\n\n    useEffect(() => {\n        consoleDebug(`IndexGridLens useEffect, tag: ${props.tag}, category: ${props.category}, filterTags: ${filterTags.toString()} `)\n        if (props.onMount != null) props.onMount()\n\n        const emitter = getEventEmitter()\n        emitter.on(\"lensFilterChange\", (data) => {\n            consoleDebug(\"IndexGridLens receive lensFilterChange event, selectedTags = \" + data.selectedTags.toString())\n            setFilterTags(data.selectedTags)\n        })\n\n        return () => {\n            consoleDebug(\"IndexGridLens useEffect cleanup\")\n            emitter.off(\"lensFilterChange\")\n        }\n    }, [])\n\n    const pagefindOptions = useMemo(() => {\n        return {\n            filters: {\n                category: { any: [\"lens\"] },\n                tag: [...filterTags],\n            },\n            sort: {\n                \"precise-date\": \"desc\"\n            }\n        }\n    }, [filterTags])\n\n    // åˆå§‹åŒ–\n    useEffect(() => {\n        // ç­›é€‰æ ‡ç­¾å˜åŒ–æ—¶ï¼Œæ¸…é™¤æ—§æ•°æ®å¹¶åŠ è½½æ–°æ•°æ®\n        if (filterTags.length > 0) {\n            pagefindPaginateViewModel.clear()\n            pagefindPaginateViewModel.search(null, pagefindOptions)\n        } else {\n            httpPaginateViewModel.clear()\n            httpPaginateViewModel.load()\n        }\n\n    }, [filterTags])\n\n    const onLoadMore = useCallback(() => {\n        if (filterTags.length > 0) {\n            pagefindPaginateViewModel.loadMore()\n        } else {\n            httpPaginateViewModel.loadMore()\n        }\n    }, [filterTags])\n\n    const onClickHint = useCallback(() => {\n        if (filterTags.length > 0) {\n            if (pagefindState.posts.length > 0) {\n                pagefindPaginateViewModel.loadMore(true)\n            } else {\n                pagefindPaginateViewModel.search(null, pagefindOptions, true)\n            }\n        } else {\n            if (httpState.posts.length > 0) {\n                httpPaginateViewModel.loadMore(true)\n            } else {\n                httpPaginateViewModel.load(true)\n            }\n        }\n    }, [httpState.posts, pagefindState.posts, filterTags])\n\n    const breakPointColumnsObj = useMemo(() => {\n        return {\n            default: 3,\n            600: 2,\n            350: 1\n        }\n    }, [])\n\n    const showPosts = useMemo(() => {\n        if (filterTags.length > 0) {\n            return pagefindState.posts\n        } else {\n            if (httpState.posts.length == 0) {\n                return props.loadedPosts\n            }\n            return httpState.posts\n        }\n    }, [httpState.posts, pagefindState.posts, filterTags])\n\n    const loadingState = useMemo(() => {\n        if (filterTags.length > 0) {\n            return {\n                loading: pagefindState.loading,\n                loadingHint: pagefindState.loadingHint\n            }\n        } else {\n            return {\n                loading: httpState.loading,\n                loadingHint: httpState.loadingHint\n            }\n        }\n    }, [httpState.loading, httpState.loadingHint, pagefindState.loading, pagefindState.loadingHint, filterTags])\n\n    return (\n        <ul className=\"grid-index-ul\">\n            <Masonry\n                breakpointCols={breakPointColumnsObj}\n                className=\"my-masonry-grid\"\n                columnClassName=\"my-masonry-grid_column\">\n                {/* ç½®é¡¶ï¼Œä»…åœ¨éç­›é€‰æ¨¡å¼ä¸‹æ˜¾ç¤º */}\n                {filterTags.length == 0 && props.pinnedPosts.map((item: Post, index: number) =>\n                    <IndexItem key={item.path}\n                        index={index}\n                        title={item.title}\n                        actors={item.actors}\n                        date={item.date}\n                        path={item.path}\n                        cover={item.cover}\n                        coverSize={item.coverSize}\n                        last={false}\n                        fromPinnedList={true}\n                        pinned={true}\n                        featured={item.featured}\n                        pinnedListSize={props.pinnedPosts.length}\n                        coverLoadedCallback={() => { }} />)}\n                {/* æ™®é€š */}\n                {showPosts.map((item: Post, index: number) =>\n                    <IndexItem key={item.path}\n                        index={index}\n                        title={item.title}\n                        actors={item.actors}\n                        date={item.date}\n                        path={item.path}\n                        cover={item.cover}\n                        coverSize={item.coverSize}\n                        last={index == showPosts.length - 1}\n                        fromPinnedList={false}\n                        pinned={item.pinned}\n                        featured={item.featured}\n                        pinnedListSize={props.pinnedPosts.length}\n                        coverLoadedCallback={() => { }} />\n                )}\n            </Masonry>\n            <LoadingHint loading={loadingState.loading} loadHint={loadingState.loadingHint} onClickHint={onClickHint} onLoadMore={onLoadMore} />\n        </ul>\n    )\n}\n\ntype IndexItemProps = {\n    index: number,\n    title: string,\n    actors: Array<string>,\n    date: string,\n    path: string,\n    cover: string,\n    // width, height\n    coverSize?: number[],\n    last: boolean,\n    fromPinnedList: boolean,\n    pinned: boolean,\n    featured: boolean,\n    pinnedListSize: number\n    coverLoadedCallback: () => void\n}\n\nfunction IndexItem(props: IndexItemProps) {\n    const containerRef = useRef<HTMLLIElement>(null)\n\n    useEffect(() => {\n        consoleObjDebug(\"IndexItem componentDidMount\", props)\n        const rootE = containerRef.current as HTMLElement;\n        const cardE = rootE.querySelector(\".grid-index-card\") as HTMLElement\n        setupCardRipple(cardE)\n\n        const imgE = rootE.querySelector(\".grid-index-cover.image-height-animation\")\n        // å›¾ç‰‡åŠ è½½åŠ¨ç”»\n        let imageLoadAnimator: ImageLoadAnimator | null = null\n        if (imgE != null) {\n            // è®¡ç®—æ æ•°ï¼Œå‰ä¸¤è¡Œå›¾ç‰‡ä¾æ¬¡æ‰§è¡ŒåŠ¨ç”»\n            // 3 æ ä¸ºæ¨ªå±å¤§å±ï¼Œå‰ 2 è¡Œå…± 6 å¼ å›¾\n            // 2 æ ä¸ºç«–å±å°å±ï¼Œå‰ 3 è¡Œå…± 6 å¼ å›¾\n            const parentWidth = rootE.parentElement?.parentElement?.clientWidth ?? 0\n            const columnCount = parentWidth >= 950 ? 3 : 2\n            consoleDebug(\"IndexItem parentWidth=\" + parentWidth + \" columnCount=\" + columnCount)\n            // if (props.index < columnCount * 2) {\n            if (props.fromPinnedList && props.index < 6) {\n                setTimeout(() => {\n                    imageLoadAnimator = startImageAnimation(imgE as HTMLImageElement)\n                }, 50 * props.index)\n            } else if (!props.fromPinnedList && props.index + props.pinnedListSize < 6) {\n                setTimeout(() => {\n                    imageLoadAnimator = startImageAnimation(imgE as HTMLImageElement)\n                }, 50 * (props.index + props.pinnedListSize))\n            } else {\n                imageLoadAnimator = startImageAnimation(imgE as HTMLImageElement)\n            }\n        }\n\n        // ç›‘å¬å…ƒç´ è¿›å…¥çª—å£åˆæ¬¡æ˜¾ç¤º\n        getInterSectionObserver().observe(cardE)\n\n        return () => {\n            consoleDebug(\"IndexItem componentWillUnmount \" + props.title)\n            if (imageLoadAnimator != null) {\n                imageLoadAnimator.destroy()\n            }\n            if (cardE != null) {\n                getInterSectionObserver().unobserve(cardE)\n            }\n        }\n    }, [])\n\n    function startImageAnimation(imgE: HTMLImageElement): ImageLoadAnimator {\n        return new ImageLoadAnimator(imgE, -1, false,\n            () => {\n                // ä»…åœ¨ç”¨æˆ·æœªæ»šåŠ¨æ—¶çš„ç¬¬ä¸€é¡µæ‰§è¡ŒåŠ¨ç”»ï¼Œå¦åˆ™æ˜¯ä¸å¯è§çš„æ— éœ€åŠ¨ç”»\n                return window.scrollY <= 0\n            },\n            () => {\n                // å›¾ç‰‡å°ºå¯¸åŠ¨ç”»æ‰§è¡Œå®Œæˆ\n                props.coverLoadedCallback()\n            })\n    }\n\n    const actorStr = useMemo(() => props.actors.join(\" \"), [props.actors])\n    const animationClass = useMemo(() => props.index == 0 ? \"card-fade-in\" : \"card-slide-in-middle\", [props.index])\n\n    const date = useMemo(() => getSplittedDate(props.date), [props.date]);\n\n    const aspectRatio = useMemo(() => {\n        if (props.coverSize != null && props.coverSize.length == 2) {\n            return props.coverSize[0] / props.coverSize[1]\n        }\n        return undefined\n    }, [props.coverSize])\n\n    return (\n        <li ref={containerRef} className=\"grid-index-li\">\n            {/* ç¬¬ä¸€ä¸ªå…ƒç´ ä½¿ç”¨ fade-in åŠ¨ç”»ï¼Œé¿å…åœ¨å°å°ºå¯¸æ‰‹æœºä¸Šå› ä¸º slide è·ç¦»åœ¨é¡µé¢åˆæ¬¡åŠ è½½æ—¶ä¸è§¦å‘åŠ¨ç”» */}\n            <a className={\"index-a mdc-card grid-index-card grid-index-card__ripple \" + animationClass} href={props.path}>\n                <section className=\"lens-index-container\">\n                    <img className=\"grid-index-cover\" \n                    style={aspectRatio ? { aspectRatio: aspectRatio } : {}}\n                    loading=\"lazy\" src={props.cover} alt={actorStr} />\n                    {props.fromPinnedList && props.pinned &&\n                        <span className=\"lens-index-pinned-icon-container\"><i className=\"material-symbols-rounded-variable\">keep</i></span>\n                    }\n                    {!props.fromPinnedList && (props.pinned || props.featured) &&\n                        <span className=\"lens-index-featured-icon-container\"><i className=\"material-symbols-rounded-variable\">editor_choice</i></span>\n                    }\n                    <div className=\"lens-index-text-container\">\n                        <span className=\"lens-index-date\">\n                            {date.year}{date.month}ï½œ{actorStr}\n                        </span>\n                        {/* <span className=\"lens-index-date\">{actorStr}</span> */}\n                        {/* {\n                            props.actors.length > 0 && props.actors.map((actor, index) =>\n                                <span key={index} className=\"lens-index-date\">{actor}</span>\n                            )\n                        } */}\n                    </div>\n                </section>\n            </a>\n            {!props.last && <hr className=\"grid-index-li-divider\" />}\n        </li>\n    )\n}\n","// import \"./GridIndexList.scss\"\nimport { useCallback, useEffect, useMemo, useRef, useSyncExternalStore } from \"react\"\nimport { ImageLoadAnimator } from \"../animation/ImageLoadAnimator\"\nimport { LoadingHint } from \"./LoadingHint\"\nimport { consoleDebug, consoleObjDebug } from \"../../util/log\"\nimport { onTagTriggerClick } from \"../tag\"\nimport Masonry from 'react-masonry-css'\nimport { getInterSectionObserver } from \"../animation/BaseAnimation\"\nimport { getSplittedDate } from \"../../base/post\"\nimport { setupCardRipple } from \"../card\"\nimport type { Post } from \"../base/paginate/bean/Post\"\nimport { HttpPaginatorViewModel } from \"../base/paginate/HttpPaginateViewModel\"\nimport { PostHttpPaginator } from \"../base/paginate/PostHttpPaginator\"\nimport type { ApiPost } from \"../../repository/bean/service/ApiPost\"\nimport type { BasePaginateViewProps } from \"../base/paginate/bean/BasePaginateViewProps\"\n\ninterface Props extends BasePaginateViewProps<Post> {\n    pageDescriptionHtml: string\n}\n\nexport function IndexGridPosts(props: Props) {\n    const paginateViewModel = useMemo(() => {\n        const options = {\n            tag: props.tag,\n            category: props.category,\n        }\n        return new HttpPaginatorViewModel<ApiPost, PostHttpPaginator, Post>(new PostHttpPaginator(options))\n    }, [])\n    const state = useSyncExternalStore(paginateViewModel.subscribe, () => paginateViewModel.state)\n\n    useEffect(() => {\n        consoleDebug(`IndexGridPosts useEffect, tag: ${props.tag}, category: ${props.category}`)\n        paginateViewModel.load()\n\n        if (props.onMount != null) props.onMount()\n\n        return () => {\n            consoleDebug(\"IndexGridPosts useEffect cleanup\")\n        }\n    }, [])\n\n    const onLoadMore = useCallback(() => {\n        paginateViewModel.loadMore()\n    }, [])\n\n    const onClickHint = useCallback(() => {\n        if (state.posts.length > 0) {\n            paginateViewModel.loadMore(true)\n        } else {\n            paginateViewModel.load(true)\n        }\n    }, [state.posts])\n\n    const breakPointColumnsObj = useMemo(() => {\n        return {\n            default: 2,\n            600: 1\n        }\n    }, [])\n\n    const showPosts = useMemo(() => {\n        if (state.posts.length == 0) {\n            return props.loadedPosts\n        }\n        return state.posts\n    }, [state.posts])\n\n    return (\n        <ul className=\"grid-index-ul\">\n            <Masonry\n                breakpointCols={breakPointColumnsObj}\n                className=\"my-masonry-grid\"\n                columnClassName=\"my-masonry-grid_column\">\n                {props.pageDescriptionHtml != null && props.pageDescriptionHtml.length > 0 &&\n                    <IndexDescriptionItem innerHtml={props.pageDescriptionHtml} />\n                }\n                {showPosts.map((item: Post, index: number) =>\n                    // TODO: æœ‰æ—¶å€™jekyllç”Ÿæˆçš„pathå’Œpaginateç”Ÿæˆçš„pathä¸ä¸€æ ·ï¼Œå¯¼è‡´itemé‡æ–°åŠ è½½ï¼Œè¿™ç§æƒ…å†µå¹¶ä¸å¤š\n                    <IndexItem key={item.path}\n                        index={index}\n                        title={item.title}\n                        author={item.author}\n                        actor={item.actors}\n                        date={item.date}\n                        path={item.path}\n                        description={item.description}\n                        cover={item.coverForIndex != null && item.coverForIndex.length > 0 ? item.coverForIndex : item.cover}\n                        coverAlt={item.coverAlt}\n                        coverSize={item.coverSize}\n                        last={index == showPosts.length - 1} />\n                )}\n            </Masonry>\n            <LoadingHint loading={state.loading} loadHint={state.loadingHint} onClickHint={onClickHint} onLoadMore={onLoadMore} />\n        </ul>\n    )\n}\n\ntype IndexItemProps = {\n    index: number,\n    title: string,\n    author: string,\n    actor: Array<string>,\n    date: string,\n    path: string,\n    description: string,\n    cover: string,\n    coverAlt: string,\n    // width, height\n    coverSize?: number[],\n    last: boolean,\n}\n\nfunction IndexItem(props: IndexItemProps) {\n    const containerRef = useRef<HTMLLIElement>(null)\n    // ç¼“å­˜æœ€æ–°çš„å›è°ƒ\n\n    useEffect(() => {\n        consoleObjDebug(\"IndexItem componentDidMount\", props)\n        const rootE = containerRef.current as HTMLElement;\n        const cardE = rootE.querySelector(\".grid-index-card\")\n        setupCardRipple(cardE as HTMLElement)\n\n        const imgE = rootE.querySelector(\".grid-index-cover.image-height-animation\")\n        // å›¾ç‰‡åŠ è½½åŠ¨ç”»\n        let imageLoadAnimator: ImageLoadAnimator | null = null\n        if (imgE != null) {\n            // å‰ 2 ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡ŒåŠ¨ç”»\n            if (props.index < 2) {\n                setTimeout(() => {\n                    imageLoadAnimator = startImageAnimation(imgE as HTMLImageElement)\n                }, 50 * props.index)\n            } else {\n                imageLoadAnimator = startImageAnimation(imgE as HTMLImageElement)\n            }\n        }\n\n        // ç›‘å¬å…ƒç´ è¿›å…¥çª—å£åˆæ¬¡æ˜¾ç¤º\n        if (cardE != null) {\n            getInterSectionObserver().observe(cardE)\n        }\n\n        return () => {\n            consoleDebug(\"IndexItem componentWillUnmount \" + props.title)\n            if (imageLoadAnimator != null) {\n                imageLoadAnimator.destroy()\n            }\n            if (cardE != null) {\n                getInterSectionObserver().unobserve(cardE)\n            }\n        }\n    }, [props.path])\n\n    function startImageAnimation(imgE: HTMLImageElement): ImageLoadAnimator {\n        return new ImageLoadAnimator(imgE, -1, false,\n            () => {\n                // ä»…åœ¨ç”¨æˆ·æœªæ»šåŠ¨æ—¶çš„ç¬¬ä¸€é¡µæ‰§è¡ŒåŠ¨ç”»ï¼Œå¦åˆ™æ˜¯ä¸å¯è§çš„æ— éœ€åŠ¨ç”»\n                return window.scrollY <= 0\n            },\n            () => {\n                // å›¾ç‰‡å°ºå¯¸åŠ¨ç”»æ‰§è¡Œå®Œæˆ\n                // coverLoadedCallback()\n            })\n    }\n\n    const actorStr = useMemo(() => props.actor.join(\" \"), [props.actor])\n    const animationClass = useMemo(() => props.index == 0 ? \"card-fade-in\" : \"card-slide-in-middle\", [props.index])\n\n    const date = useMemo(() => getSplittedDate(props.date), [props.date]);\n\n    const aspectRatio = useMemo(() => {\n        if (props.coverSize != null && props.coverSize.length == 2) {\n            return props.coverSize[0] / props.coverSize[1]\n        }\n        return undefined\n    }, [props.coverSize])\n\n    return (\n        <li ref={containerRef} className=\"grid-index-li\">\n            {/* ç¬¬ä¸€ä¸ªå…ƒç´ ä½¿ç”¨ fade-in åŠ¨ç”»ï¼Œé¿å…åœ¨å°å°ºå¯¸æ‰‹æœºä¸Šå› ä¸º slide è·ç¦»åœ¨é¡µé¢åˆæ¬¡åŠ è½½æ—¶ä¸è§¦å‘åŠ¨ç”» */}\n            <a className={\"index-a mdc-card grid-index-card grid-index-card__ripple \" + animationClass} href={props.path}>\n                <section>\n                    {props.cover != null && props.cover.length > 0 &&\n                        <img className=\"grid-index-cover image-height-animation\"\n                            style={aspectRatio ? { aspectRatio: aspectRatio } : {}}\n                            loading=\"lazy\" src={props.cover} alt={props.coverAlt} />}\n                    {props.cover == null || props.cover.length == 0 &&\n                        <div style={{ height: \"0.5rem\" }}></div>}\n                    <div className=\"grid-index-text-container\">\n                        <h1 className=\"grid-index-title\">{props.title}</h1>\n                        <div>\n                            <span className=\"grid-index-date\">\n                                {date.year}<span className=\"year\">å¹´</span>\n                                {date.month}<span className=\"month\">æœˆ</span>\n                                {date.day}<span className=\"day\">æ—¥</span>\n                            </span>\n                            <span className=\"grid-index-author\"> {actorStr}</span>\n                        </div>\n                        <p className=\"grid-index-description\">{props.description}</p>\n                    </div>\n                </section>\n            </a>\n            {!props.last && <hr className=\"grid-index-li-divider\" />}\n        </li>\n    )\n}\n\ntype IndexDescriptionItemProps = {\n    innerHtml: string,\n}\n\nfunction IndexDescriptionItem(props: IndexDescriptionItemProps) {\n    const containerRef = useRef<HTMLLIElement>(null)\n\n    useEffect(() => {\n        const rootE = containerRef.current as HTMLElement\n        consoleObjDebug(\"IndexDescriptionItem useEffect\", rootE)\n        const cardE = rootE.querySelector(\".grid-index-card\")\n        if (cardE != null) {\n            getInterSectionObserver().observe(cardE)\n        }\n\n        // ç»„ä»¶å†…çš„ç‚¹å‡»äº‹ä»¶éƒ½ä¼šä¸Šæµ®åˆ°å®¹å™¨è¢«æ•æ‰ï¼Œåœ¨è¿™é‡Œå¤„ç†ä¸€äº›éæ ‡å‡† <a> å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶\n        rootE.addEventListener(\"click\", (event) => {\n            consoleObjDebug(\"IndexDescriptionItem click event \", event.target)\n            const targetE = event.target as HTMLElement\n            // å¤„ç† tag ç‚¹å‡»äº‹ä»¶\n            if (targetE.classList.contains(\"tag-dialog-trigger\")) {\n                onTagTriggerClick(targetE)\n            }\n        })\n\n        // å¯¹äº dangerouslySetInnerHTML æ’å…¥çš„å†…å®¹ï¼ŒçŠ¶æ€ä¸åƒæ™®é€š react ç»„ä»¶å¯æ§ï¼Œè¿™æ ·è®¾ç½® click ç›‘å¬å¯èƒ½å¤±æ•ˆ\n        // const dialogsTriggers = rootE.querySelectorAll(\".tag-dialog-trigger\")\n        // consoleDebug(\"Found tag dialog triggers: \" + dialogsTriggers.length)\n        // for (const trigger of dialogsTriggers) {\n        //     setupTagTrigger(trigger as HTMLElement)\n        // }\n        return () => {\n            consoleDebug(\"IndexDescriptionItem useEffect cleanup\")\n            if (cardE != null) {\n                getInterSectionObserver().unobserve(cardE)\n            }\n        }\n    }, [])\n\n    return (\n        <li ref={containerRef} className=\"grid-index-li grid-index-li--description\">\n            <section className=\"mdc-card grid-index-card card-fade-in\" dangerouslySetInnerHTML={{ __html: props.innerHtml }}>\n            </section>\n            <hr className=\"grid-index-li-divider\" />\n        </li>\n    )\n}","import \"./index.scss\"\nimport { parseImageSize, runOnHtmlDone, toggleElementClass } from \"../util/tools\"\nimport { consoleDebug, consoleObjDebug } from \"../util/log\"\nimport { createRoot } from \"react-dom/client\"\nimport { IndexLinearPosts } from \"../component/react/IndexLinearPosts\"\nimport { getSectionTypeByPath, SECTION_TYPE_OTHER } from \"../base/constant\"\nimport { ImageLoadAnimator } from \"../component/animation/ImageLoadAnimator\"\nimport { IndexGridLens } from \"../component/react/IndexGridLens\"\nimport { setupCardRipple } from \"../component/card\"\nimport type { Post } from \"../component/base/paginate/bean/Post\"\nimport { showFooter } from \"../component/footer\"\nimport { IndexGridPosts } from \"../component/react/IndexGridPosts\"\n\nexport function initIndex() {\n    runOnHtmlDone(() => {\n        initIndexList()\n    })\n}\n\nfunction initIndexList() {\n    const wrapperE = document.querySelector(\"#index-list-wrapper\") as HTMLElement\n    if (wrapperE == null) {\n        return\n    }\n    const onMount = () => {\n        showFooter()\n        initIndexTopCover()\n    }\n\n    const root = createRoot(wrapperE)\n    const category = getSectionTypeByPath(window.location.pathname).identifier\n    consoleDebug(\"Index category = \" + category + \", path = \" + window.location.pathname)\n    if (category == SECTION_TYPE_OTHER.identifier) return\n\n    if (wrapperE.classList.contains(\"index-list-wrapper\")) {\n        // éšç¬”ã€è¯—è¯ã€è½¬è½½\n        // è·å–å·²æœ‰ postï¼ŒåŒ…æ‹¬ç½®é¡¶å’Œéç½®é¡¶\n        const loadedPosts = getLinearLoadedPosts(wrapperE)\n        consoleObjDebug(\"Index loaded local posts\", loadedPosts)\n        root.render(<IndexLinearPosts tag={\"\"} category={category} pinnedPosts={loadedPosts[0]} loadedPosts={loadedPosts[1]}\n            onMount={onMount} />)\n    } else if (wrapperE.classList.contains(\"grid-index-list-wrapper\")) {\n        // çœ‹å‰§\n        // è¯»å–æè¿°ï¼Œä¸º card çš„å†…å®¹\n        const descriptionE = document.querySelector(\".grid-index-li--description .grid-index-card\")\n        let descriptionHtml = \"\"\n        if (descriptionE != null)\n            descriptionHtml = descriptionE.innerHTML\n        const loadedPosts = getGridLoadedPosts(wrapperE)\n        consoleObjDebug(\"Index loaded local posts\", loadedPosts)\n        root.render(<IndexGridPosts tag={\"\"} category={category} pinnedPosts={loadedPosts[0]} loadedPosts={loadedPosts[1]}\n            onMount={onMount} pageDescriptionHtml={descriptionHtml} />)\n    } else if (wrapperE.classList.contains(\"lens-index-list-wrapper\")) {\n        // é€é•œ\n        const loadedPosts = getLensLoadedPosts(wrapperE)\n        consoleObjDebug(\"Index loaded local posts\", loadedPosts)\n        root.render(<IndexGridLens tag={\"\"} category={category} pinnedPosts={loadedPosts[0]} loadedPosts={loadedPosts[1]}\n            onMount={onMount} />)\n    }\n}\n\nfunction getLinearLoadedPosts(wrapperE: HTMLElement): Array<Array<Post>> {\n    const pinedPosts: Array<Post> = []\n    const otherPosts: Array<Post> = []\n    for (const liE of wrapperE.querySelectorAll(\".index-li\")) {\n        const title = (liE.querySelector(\".index-title\") as HTMLElement).innerText\n        const author = (liE.querySelector(\".index-author\") as HTMLElement).innerText\n        const date = (liE.querySelector(\".index-date\") as HTMLElement).innerText\n        const path = (liE.querySelector(\".index-a\") as HTMLAnchorElement).pathname\n        const pinned = liE.querySelector(\".index-pinned-icon-container\") != null\n        const featured = liE.querySelector(\".index-featured-icon-container\") != null\n        const post = {\n            title: title,\n            date: date,\n            moreDate: \"\",\n            path: path,\n            author: author,\n            actors: [],\n            mentions: [],\n            location: \"\",\n            description: \"\",\n            cover: \"\",\n            coverForIndex: \"\",\n            coverAlt: \"\",\n            tags: [],\n            category: \"\",\n            pinned: pinned,\n            featured: featured,\n        }\n        if (pinned) {\n            pinedPosts.push(post)\n        } else {\n            otherPosts.push(post)\n        }\n    }\n    const array = new Array<Array<Post>>()\n    array.push(pinedPosts)\n    array.push(otherPosts)\n    return array\n}\n\nfunction getLensLoadedPosts(wrapperE: HTMLElement): Array<Array<Post>> {\n    // è¯»å–ç½®é¡¶å’Œé¢„ç½®\n    const pinedPosts: Array<Post> = []\n    const otherPosts: Array<Post> = []\n    for (const liE of wrapperE.querySelectorAll(\".grid-index-li\")) {\n        // 202010ï½œç‹æ–‡æƒ  ç‹æ’æ¶›\n        const dateActorE = liE.querySelector(\".lens-index-date\") as HTMLElement\n        const dateActor = dateActorE.innerText.trim().split(\"ï½œ\")\n        const date = dateActor[0].trim()\n        const fullDate = dateActorE.getAttribute(\"full-date\") || \"2000å¹´01æœˆ01æ—¥\"\n        const actors = dateActor[1].trim().split(\" \")\n        const coverE = liE.querySelector(\".grid-index-cover\") as HTMLImageElement\n        const cover = coverE?.src\n        const coverAlt = coverE?.alt\n        const coverSizeAttr = coverE?.getAttribute(\"imageSize\")\n        const coverSize = parseImageSize(coverSizeAttr)\n        const path = (liE.querySelector(\".index-a\") as HTMLAnchorElement).pathname\n        const pinned = liE.querySelector(\".lens-index-pinned-icon-container\") != null\n        const featured = liE.querySelector(\".lens-index-featured-icon-container\") != null\n        const post = {\n            title: dateActor.join(\"ï½œ\"),\n            date: fullDate,\n            moreDate: \"\",\n            path: path,\n            author: \"\",\n            actors: actors,\n            mentions: [],\n            location: \"\",\n            description: \"\",\n            cover: cover,\n            coverForIndex: \"\",\n            coverAlt: coverAlt,\n            coverSize: coverSize,\n            tags: [],\n            category: \"\",\n            pinned: pinned,\n            featured: featured,\n        }\n        if (pinned) {\n            pinedPosts.push(post)\n        } else {\n            otherPosts.push(post)\n        }\n    }\n    return [pinedPosts, otherPosts]\n}\n\nfunction getGridLoadedPosts(wrapperE: HTMLElement): Array<Array<Post>> {\n    const pinedPosts: Array<Post> = []\n    const otherPosts: Array<Post> = []\n    for (const liE of wrapperE.querySelectorAll(\".grid-index-li:not(.grid-index-li--description)\")) {\n        const title = (liE.querySelector(\".grid-index-title\") as HTMLElement).innerText\n        const actors = (liE.querySelector(\".grid-index-author\") as HTMLElement).innerText.split(\" \")\n        const date = (liE.querySelector(\".grid-index-date\") as HTMLElement).innerText.trim()\n        const path = (liE.querySelector(\".index-a\") as HTMLAnchorElement).pathname\n        const description = (liE.querySelector(\".grid-index-description\") as HTMLElement).innerText\n        const coverE = liE.querySelector(\".grid-index-cover\") as HTMLImageElement\n        const cover = coverE?.src\n        const coverAlt = coverE?.alt\n        const coverSizeAttr = coverE?.getAttribute(\"imageSize\")\n        const coverSize = parseImageSize(coverSizeAttr)\n        // TODO: æš‚ä¸æ”¯æŒç½®é¡¶å’Œç²¾é€‰\n        const pinned = liE.querySelector(\".index-pinned-icon-container\") != null\n        const featured = liE.querySelector(\".index-featured-icon-container\") != null\n        const post = {\n            title: title,\n            date: date,\n            moreDate: \"\",\n            path: path,\n            author: \"\",\n            actors: actors,\n            mentions: [],\n            location: \"\",\n            description: description,\n            cover: cover,\n            coverForIndex: \"\",\n            coverAlt: coverAlt,\n            coverSize: coverSize,\n            tags: [],\n            category: \"\",\n            pinned: pinned,\n            featured: featured,\n        }\n        if (pinned) {\n            pinedPosts.push(post)\n        } else {\n            otherPosts.push(post)\n        }\n    }\n    const array = new Array<Array<Post>>()\n    array.push(pinedPosts)\n    array.push(otherPosts)\n    return array\n}\n\nconst INDEX_TOP_COVER_RATIO = 844 / 295\n\n/**\n * åˆå§‹åŒ–é¦–é¡µå°é¢ï¼Œç›‘å¬ä¸‹è½½çŠ¶æ€ï¼Œå¯åŠ¨é«˜åº¦å˜åŒ–åŠ¨ç”»\n */\nfunction initIndexTopCover() {\n    // é¡¶éƒ¨å¡ç‰‡ï¼Œé€æ˜åº¦åŠ¨ç”»\n    for (const ele of document.querySelectorAll(\".index-top-card.card-fade-in\")) {\n        toggleElementClass(ele, \"card-fade-in-start\", true)\n    }\n    // é¡¶éƒ¨å°é¢å›¾ç‰‡ï¼Œé«˜åº¦åŠ¨ç”»\n    for (const ele of document.querySelectorAll(\".index-top-cover.image-height-animation\")) {\n        const imgE = ele as HTMLImageElement\n        new ImageLoadAnimator(imgE, INDEX_TOP_COVER_RATIO, true,\n            () => {\n                // ä»…åœ¨ç”¨æˆ·æœªæ»šåŠ¨æ—¶çš„ç¬¬ä¸€é¡µæ‰§è¡ŒåŠ¨ç”»ï¼Œå¦åˆ™æ˜¯ä¸å¯è§çš„æ— éœ€åŠ¨ç”»\n                return window.scrollY <= 0\n            },\n            () => {\n                // åŠ¨ç”»å®Œæˆå›è°ƒ\n            })\n    }\n    // ç´¢å¼•å¡ç‰‡\n    for (const ele of document.querySelectorAll(\".index-top-card,.grid-index-card__ripple\")) {\n        setupCardRipple(ele)\n    }\n}"],"names":["setupCardRipple","ele","MDCRipple","ResizeWidthObserver","entries","entry","consoleDebug","e","callback","IndexLinearPosts","props","paginateViewModel","useMemo","options","HttpPaginateViewModel","PostHttpPaginator","state","useSyncExternalStore","useEffect","onLoadMore","useCallback","onClickHint","showPosts","jsxs","post","jsx","IndexItem","item","index","LoadingHint","containerRef","useRef","cardE","date","getSplittedDate","consoleObjDebug","rootE","getInterSectionObserver","ImageLoadAnimator","imgE","ratio","monitorResize","animationBeforeStart","animationEndCallback","getElementAttribute","width","transitionEndListener","removeListeners","transitionCancelListener","toggleElementClass","height","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","sourceSymbolKeys","sourceKeys","_extends","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","_defineProperty","obj","value","defaultProps","DEFAULT_COLUMNS","Masonry","React","columnCount","windowWidth","breakpointColsObject","matchedBreakpoint","columns","breakpoint","optBreakpoint","currentColumnCount","itemsInColumns","items","columnIndex","column","columnAttrs","columnClassName","childrenInColumns","columnWidth","className","columnAttributes","message","_this$props","children","breakpointCols","rest","classNameOutput","IndexGridLens","filterTags","setFilterTags","useState","httpPaginateViewModel","HttpPaginatorViewModel","pagefindPaginateViewModel","PagefindPaginateViewModel","PostPagefindPaginator","httpState","pagefindState","emitter","getEventEmitter","data","pagefindOptions","breakPointColumnsObj","loadingState","imageLoadAnimator","parentWidth","startImageAnimation","actorStr","animationClass","aspectRatio","IndexGridPosts","IndexDescriptionItem","event","targetE","onTagTriggerClick","initIndex","runOnHtmlDone","initIndexList","wrapperE","onMount","showFooter","initIndexTopCover","root","createRoot","category","getSectionTypeByPath","SECTION_TYPE_OTHER","loadedPosts","getLinearLoadedPosts","descriptionE","descriptionHtml","getGridLoadedPosts","getLensLoadedPosts","pinedPosts","otherPosts","liE","title","author","path","pinned","featured","array","dateActorE","dateActor","fullDate","actors","coverE","cover","coverAlt","coverSizeAttr","coverSize","parseImageSize","description","INDEX_TOP_COVER_RATIO"],"mappings":"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","x_google_ignoreList":[4]}
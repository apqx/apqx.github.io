@use "../../style/global" as base;
@use "../scrim.scss" as scrim;
@use "@material/dialog";
@use "@material/dialog/mdc-dialog";
@use "@material/elevation";
@use "@material/elevation/mdc-elevation";
@use "@material/theme";
@use "@material/button";
@use "@material/button/mdc-button";
@use "@material/ripple";
@use "sass:map";
@use "sass:color";

.mdc-dialog .mdc-dialog__container {
    transform: translateY(var(--dialog-animation-translate-y));
    opacity: 0;
    transition: transform var(--dialog-animation-duration) ease,
        opacity calc(var(--dialog-animation-duration) / 2.5) ease;
    // will-change: transform, opacity;
}

// opening -> open
// opening åªæ˜¯è®¾ç½® dialog çš„æ˜¾ç¤ºå±æ€§ï¼ŒåŠ¨ç”»æ˜¯ç”± open è§¦å‘çš„
// js æ§åˆ¶å…ˆæ·»åŠ  openingï¼Œå†ç«‹å³æ·»åŠ  openï¼Œå¯åŠ¨åŠ¨ç”»
// .mdc-dialog--opening .mdc-dialog__container {
//     transform: translateY(5rem);
//     opacity: 1;
// }

.mdc-dialog.mdc-dialog--open .mdc-dialog__container {
    transform: translateY(0);
    opacity: 1;
}

// closing -> null
.mdc-dialog.mdc-dialog--closing .mdc-dialog__container {
    transform: translateY(0);
    opacity: 1;
}

.mdc-dialog .mdc-dialog__scrim {
    opacity: 0;
    // åŸ dialog çš„ scrim é®ç½©åŠ¨ç”»
    @include scrim.baseScrim;

    // å…³é—­ dialog è‡ªèº«çš„ scrim é®ç½©ï¼Œä½¿ç”¨å…¨å±€çš„ common-scrim å®ç°ï¼Œé€‚é… iOS 26 ä¸­ safari å·¥å…·æ å‹ç¼© viewport å¯¼è‡´çš„ scrim é®ç½©è¢«è£å‰ªé—®é¢˜
    background-color: transparent;
    transition: none;
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
}

.mdc-dialog.mdc-dialog--open .mdc-dialog__scrim {
    opacity: 1;
}

.mdc-dialog {
    --dialog-content-padding-left-right: 1.5rem
}

.mdc-dialog .mdc-dialog__surface {
    @include elevation.elevation(map.get(base.$dialog, "elevation"), map.get(base.$dialog, "shadow-light"), 0);
    // äº®è‰²ä¸»é¢˜åŠ ç©ºç™½è¾¹æ¡†æ˜¯ä¸ºäº†ä¸æš—è‰²ä¸»é¢˜å°ºå¯¸ä¿æŒä¸€è‡´
    // border: 2px solid map.get(base.$dialog, "border-light");
    border: 1px solid var(--common-divider-color);
    border-radius: var(--dialog-border-radius);
    // surface ä¸æ»šåŠ¨ï¼Œcontent æ»šåŠ¨
    overflow-x: hidden;

    .dark & {
        @include elevation.elevation(map.get(base.$dialog, "elevation"), map.get(base.$dialog, "shadow-dark"), 0);
        // border: 2px solid map.get(base.$dialog, "border-dark");
    }
}

.mdc-dialog .mdc-dialog__content {
    padding: 1.2rem var(--dialog-content-padding-left-right) 1rem var(--dialog-content-padding-left-right);
    overflow-x: hidden;
}

.mdc-dialog__fixed-width {
    width: 560px;
}

@mixin baseDialogTitle {
    text-align: center;
    font-size: var(--mdc-typography-headline1-font-size);
    line-height: 3rem;
}

@mixin baseDialogHint {
    margin: 1.2rem 1rem;
    color: var(--mdc-theme-on-surface-secondary);
    font-weight: var(--font-weight-light);
    font-size: calc(var(--mdc-typography-body1-font-size) - 0.1rem);
    line-height: calc(var(--mdc-typography-body1-line-height) - 0.3rem);

    strong,
    b {
        font-weight: var(--font-weight-normal);
    }
}

.common-alert-dialog_title {
    @include baseDialogTitle();
}

.common-alert-dialog_content {
    margin: 1.5rem 1rem 0.5rem 1rem;
}

.mdc-dialog__actions.basic-dialog_actions {
    justify-content: center;
    padding: 0;
    display: flex;
    flex-direction: row;
    height: fit-content;
    min-height: unset;
    border: none;
    border-top: 1px solid;
    border-color: var(--common-divider-color) !important;
}

.mdc-button.basic-dialog_btn_action {
    flex: 1;
    width: fit-content;
    height: 3.2rem;
    padding: 0;
    border-radius: 0;

    @include button.container-fill-color(var(--dialog-action-btn-bg));
    @include button.ink-color(var(--dialog-action-btn-ink));
    // å¯ç”¨ ripple çš„ radius-bounded å¯èƒ½å¯¼è‡´æŸäº›ä¸œè¥¿æº¢å‡ºå…ƒç´ ï¼Œå¯¼è‡´æ•´ä¸ªé¡µé¢å®½åº¦ä¸æ­£å¸¸å¯ä»¥æ¨ªå‘æ»šåŠ¨
    // åŠ ä¸Šè¿™ä¸ªåˆ™å¯ä»¥è§£å†³ğŸ¤”
    overflow: hidden;
    @include ripple.surface;
    @include ripple.radius-bounded;
    @include ripple.states-base-color(map.get(base.$dialog-action-btn-ripple, "light"));
    @include ripple.states-opacities((hover: .0, focus: .0, press: .1));
}

.dark .mdc-button.basic-dialog_btn_action {
    @include ripple.states-base-color(map.get(base.$dialog-action-btn-ripple, "dark"));
}

.mdc-dialog__content .mdc-deprecated-list {
    padding: 0 !important;
}
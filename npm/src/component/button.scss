@use "../style/global" as base;
@use "@material/button";
@use "@material/button/mdc-button";
@use "@material/icon-button";
@use "@material/icon-button/mdc-icon-button";
@use "@material/ripple";
@use "sass:map";
@use "sass:color";

// è§£å†³Safariçš„RippleåŠ¨ç”»æ— åœ†è§’
.mdc-button,
.mdc-button__ripple {
    // border-radius: 1.3rem !important;
    -webkit-mask-image: radial-gradient(white, black);
}

.mdc-button {
    @include button.container-fill-color(var(--button-bg));
    @include button.ink-color(var(--button-ink));

    overflow: hidden;
    @include ripple.surface;
    // å¦‚æœä¸º bounded åˆ™å®½åº¦å¯èƒ½æœ‰é—®é¢˜ï¼Œå¯¼è‡´æ¨ªå‘æº¢å‡ºï¼Œæ»šåŠ¨ğŸ¤”
    // è®¾ç½®å…¶ surface çš„ overflow ä¸º hidden
    // Dialog çš„ surface çš„å°ºå¯¸å¼‚å¸¸å¯¼è‡´æ»šåŠ¨ï¼Œå·²è®¾ç½®è®¾ç½®å…¶ overflow ä¸º clip
    @include ripple.radius-bounded;
    @include ripple.states-base-color(map.get(base.$button-ripple, "light"));
    @include ripple.states-opacities((hover: .0, focus: .0, press: .1));
}

.dark .mdc-button {
    @include ripple.states-base-color(map.get(base.$button-ripple, "dark"));
    @include ripple.states-opacities((hover: .0, focus: .0, press: .1));
}

.mdc-button.btn-round {
    border-radius: calc(var(--mdc-typography-body1-font-size) + 0.3rem);
}

@mixin icon-button-ripple {
    overflow: hidden;
    @include ripple.surface;
    @include ripple.radius-bounded;
    @include ripple.states-base-color(map.get(base.$icon-button-ripple, "light"));
    @include ripple.states-opacities((hover: .0, focus: .0, press: .15));
}

@mixin icon-button-dark-ripple {
    @include ripple.states-base-color(map.get(base.$icon-button-ripple, "dark"));
    @include ripple.states-opacities((hover: .0, focus: .0, press: .15));
}

.mdc-icon-button {
    // border-radius: 20%;
    color: var(--mdc-theme-on-surface);
    @include icon-button-ripple;
    display: inline-flex;
    align-items: center;
    justify-content: center
}

.dark .mdc-icon-button {
    @include icon-button-dark-ripple;
}